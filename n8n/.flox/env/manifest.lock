{
  "lockfile-version": 1,
  "manifest": {
    "version": 1,
    "install": {
      "gum": {
        "pkg-path": "gum"
      },
      "n8n": {
        "pkg-path": "n8n"
      },
      "postgis": {
        "pkg-path": "postgresql16Packages.postgis"
      },
      "postgresql": {
        "pkg-path": "postgresql_16"
      },
      "redis": {
        "pkg-path": "redis"
      }
    },
    "vars": {
      "N8N_CONFIG_DIR": "$FLOX_ENV_CACHE/n8n-config",
      "N8N_DATA_DIR": "$FLOX_ENV_CACHE/n8n-data",
      "N8N_LOG_DIR": "$FLOX_ENV_CACHE/n8n-logs",
      "POSTGRES_CONFIG_DIR": "$FLOX_ENV_CACHE/postgres-config",
      "POSTGRES_DATA_DIR": "$FLOX_ENV_CACHE/postgres-data",
      "POSTGRES_LOG_DIR": "$FLOX_ENV_CACHE/postgres-logs",
      "POSTGRES_RUN_DIR": "$FLOX_ENV_CACHE/postgres-run",
      "REDIS_CONFIG_DIR": "$FLOX_ENV_CACHE/redis-config",
      "REDIS_DATA_DIR": "$FLOX_ENV_CACHE/redis-data",
      "REDIS_LOG_DIR": "$FLOX_ENV_CACHE/redis-logs"
    },
    "hook": {
      "on-activate": "# Create required directories\nmkdir -p \"$FLOX_ENV_CACHE/postgres-config\"\nmkdir -p \"$FLOX_ENV_CACHE/postgres-logs\"\nmkdir -p \"$FLOX_ENV_CACHE/postgres-data\"\nmkdir -p \"$FLOX_ENV_CACHE/postgres-run\"\n\n# === INIT-TIME VARIABLES ===\n# These affect initdb and cannot change without deleting PGDATA\nexport PGUSER=\"${PGUSER:-pguser}\"\nexport PGPASSWORD=\"${PGPASSWORD:-pgpass}\"\nexport POSTGRES_HOST_AUTH_METHOD=\"${POSTGRES_HOST_AUTH_METHOD:-md5}\"\nexport POSTGRES_ENCODING=\"${POSTGRES_ENCODING:-UTF8}\"\nexport POSTGRES_LOCALE=\"${POSTGRES_LOCALE:-C}\"\nexport POSTGRES_DATA_CHECKSUMS=\"${POSTGRES_DATA_CHECKSUMS:-}\"\nexport POSTGRES_INITDB_ARGS=\"${POSTGRES_INITDB_ARGS:-}\"\n\n# === RUNTIME VARIABLES - Connection ===\n# These can be changed by restarting the service\nexport PGHOSTADDR=\"${PGHOSTADDR:-127.0.0.1}\"\nexport PGPORT=\"${PGPORT:-15432}\"\nexport PGHOST=\"${PGHOST:-}\"\nexport PGDATABASE=\"${PGDATABASE:-postgres}\"\n\n# === RUNTIME VARIABLES - Performance ===\nexport POSTGRES_MAX_CONNECTIONS=\"${POSTGRES_MAX_CONNECTIONS:-100}\"\nexport POSTGRES_SHARED_BUFFERS=\"${POSTGRES_SHARED_BUFFERS:-128MB}\"\nexport POSTGRES_WORK_MEM=\"${POSTGRES_WORK_MEM:-4MB}\"\nexport POSTGRES_EFFECTIVE_CACHE_SIZE=\"${POSTGRES_EFFECTIVE_CACHE_SIZE:-4GB}\"\nexport POSTGRES_FSYNC=\"${POSTGRES_FSYNC:-on}\"\nexport POSTGRES_SYNCHRONOUS_COMMIT=\"${POSTGRES_SYNCHRONOUS_COMMIT:-on}\"\nexport POSTGRES_FULL_PAGE_WRITES=\"${POSTGRES_FULL_PAGE_WRITES:-on}\"\n\n# === RUNTIME VARIABLES - WAL ===\nexport POSTGRES_MAX_WAL_SIZE=\"${POSTGRES_MAX_WAL_SIZE:-1GB}\"\nexport POSTGRES_MIN_WAL_SIZE=\"${POSTGRES_MIN_WAL_SIZE:-80MB}\"\nexport POSTGRES_CHECKPOINT_TIMEOUT=\"${POSTGRES_CHECKPOINT_TIMEOUT:-5min}\"\n\n# === RUNTIME VARIABLES - Logging ===\nexport POSTGRES_LOG_STATEMENT=\"${POSTGRES_LOG_STATEMENT:-none}\"\nexport POSTGRES_LOG_DURATION=\"${POSTGRES_LOG_DURATION:-off}\"\nexport POSTGRES_LOG_MIN_DURATION=\"${POSTGRES_LOG_MIN_DURATION:-}\"\nexport POSTGRES_LOG_CONNECTIONS=\"${POSTGRES_LOG_CONNECTIONS:-off}\"\nexport POSTGRES_LOG_DISCONNECTIONS=\"${POSTGRES_LOG_DISCONNECTIONS:-off}\"\n\n# === FLEXIBILITY ===\nexport POSTGRES_EXTRA_OPTS=\"${POSTGRES_EXTRA_OPTS:-}\"\n\n# === DERIVED VARIABLES ===\nexport POSTGRES_DIR=\"${POSTGRES_DIR:-$FLOX_ENV_CACHE/postgres-data}\"\nexport PGDATA=\"$POSTGRES_DIR/data\"\nexport PGHOST_SOCKET=\"$POSTGRES_DIR/run\"\n\n# PGHOST logic: If empty or unset, use Unix socket\nif [ -z \"$PGHOST\" ]; then\n    export PGHOST=\"$PGHOST_SOCKET\"\n    export DATABASE_URL=\"postgresql:///$PGDATABASE?host=$PGHOST&port=$PGPORT\"\nelse\n    # User specified host for TCP\n    export DATABASE_URL=\"postgresql://$PGUSER:$PGPASSWORD@$PGHOST:$PGPORT/$PGDATABASE\"\nfi\n\n# === INITIALIZATION FUNCTION ===\ninitialize_postgres() {\n    # Check if already initialized\n    if [ -f \"$PGDATA/PG_VERSION\" ]; then\n        return 0\n    fi\n\n    # Create directories with proper permissions\n    mkdir -p \"$PGDATA\" \"$PGHOST_SOCKET\"\n    chmod 700 \"$PGDATA\" \"$PGHOST_SOCKET\"\n\n    # Initialize PostgreSQL with direct execution\n    echo \"Initializing PostgreSQL database...\"\n    initdb \"$PGDATA\" \\\n        --username=\"$PGUSER\" \\\n        --pwfile=<(echo \"$PGPASSWORD\") \\\n        --encoding=\"$POSTGRES_ENCODING\" \\\n        --locale=\"$POSTGRES_LOCALE\" \\\n        --auth=\"$POSTGRES_HOST_AUTH_METHOD\" \\\n        $([ -n \"$POSTGRES_DATA_CHECKSUMS\" ] && echo \"--data-checksums\") \\\n        $POSTGRES_INITDB_ARGS \\\n        > /dev/null 2>&1\n\n    if [ $? -ne 0 ]; then\n        echo \"âŒ Failed to initialize PostgreSQL\"\n        return 1\n    fi\n\n    # Create database if not \"postgres\"\n    if [ \"$PGDATABASE\" != \"postgres\" ]; then\n        echo \"Creating database '$PGDATABASE'...\"\n\n        # Start postgres temporarily\n        postgres -D \"$PGDATA\" \\\n            -c listen_addresses='' \\\n            -c unix_socket_directories=\"$PGHOST_SOCKET\" \\\n            -p \"$PGPORT\" \\\n            > /dev/null 2>&1 &\n        PG_PID=$!\n\n        sleep 3  # Wait for startup\n\n        # Create database\n        createdb \"$PGDATABASE\" > /dev/null 2>&1 || true\n\n        # Stop postgres\n        pg_ctl stop -D \"$PGDATA\" -m fast -w > /dev/null 2>&1\n    fi\n\n    echo \"âœ… PostgreSQL initialized successfully\"\n    return 0\n}\n\n# Run initialization\ninitialize_postgres\n\n# Display info with safety warnings\necho \"\"\necho \"âœ… PostgreSQL environment ready (headless mode)\"\necho \"\"\n\n# Safety warnings\nif [ \"$POSTGRES_FSYNC\" = \"off\" ]; then\n    echo \"âš ï¸  WARNING: fsync disabled - DATA LOSS RISK if crash occurs\"\nfi\nif [ \"$POSTGRES_HOST_AUTH_METHOD\" = \"trust\" ]; then\n    echo \"âš ï¸  WARNING: Authentication disabled - NO PASSWORD REQUIRED\"\nfi\nif [ \"$PGHOSTADDR\" = \"0.0.0.0\" ]; then\n    echo \"âš ï¸  WARNING: Listening on all interfaces - NETWORK EXPOSED\"\nfi\n[ \"$POSTGRES_FSYNC\" = \"off\" ] || [ \"$POSTGRES_HOST_AUTH_METHOD\" = \"trust\" ] || [ \"$PGHOSTADDR\" = \"0.0.0.0\" ] && echo \"\"\n\necho \"Connection:\"\necho \"  Listen address: ${PGHOSTADDR}:${PGPORT}\"\necho \"  Client connects to: ${PGHOST}\"\necho \"  Database: ${PGDATABASE}\"\necho \"  User: ${PGUSER}\"\necho \"\"\necho \"Performance:\"\necho \"  Max connections: ${POSTGRES_MAX_CONNECTIONS}\"\necho \"  Shared buffers: ${POSTGRES_SHARED_BUFFERS}\"\necho \"  fsync: ${POSTGRES_FSYNC}\"\necho \"\"\necho \"Commands:\"\necho \"  flox activate -s        Start PostgreSQL\"\necho \"  psql                    Connect to database\"\necho \"  postgres-info           Show configuration\"\necho \"\"\n\n# Create required directories\nmkdir -p \"$FLOX_ENV_CACHE/redis-config\"\nmkdir -p \"$FLOX_ENV_CACHE/redis-logs\"\nmkdir -p \"$FLOX_ENV_CACHE/redis-data\"\n\n# === RUNTIME VARIABLES - Connection ===\nexport REDIS_HOST=\"${REDIS_HOST:-127.0.0.1}\"\nexport REDIS_PORT=\"${REDIS_PORT:-16379}\"\nexport REDIS_PASSWORD=\"${REDIS_PASSWORD:-}\"\n\n# === RUNTIME VARIABLES - Memory Management ===\nexport REDIS_MAXMEMORY=\"${REDIS_MAXMEMORY:-256mb}\"\nexport REDIS_MAXMEMORY_POLICY=\"${REDIS_MAXMEMORY_POLICY:-noeviction}\"\nexport REDIS_MAXMEMORY_SAMPLES=\"${REDIS_MAXMEMORY_SAMPLES:-5}\"\n\n# === RUNTIME VARIABLES - Persistence (RDB) ===\nexport REDIS_SAVE_RDB=\"${REDIS_SAVE_RDB:-yes}\"\nexport REDIS_SAVE_900=\"${REDIS_SAVE_900:-1}\"\nexport REDIS_SAVE_300=\"${REDIS_SAVE_300:-10}\"\nexport REDIS_SAVE_60=\"${REDIS_SAVE_60:-10000}\"\nexport REDIS_RDB_COMPRESSION=\"${REDIS_RDB_COMPRESSION:-yes}\"\nexport REDIS_RDB_CHECKSUM=\"${REDIS_RDB_CHECKSUM:-yes}\"\n\n# === RUNTIME VARIABLES - Persistence (AOF) ===\nexport REDIS_APPENDONLY=\"${REDIS_APPENDONLY:-no}\"\nexport REDIS_APPENDFSYNC=\"${REDIS_APPENDFSYNC:-everysec}\"\nexport REDIS_AOF_REWRITE_PERCENTAGE=\"${REDIS_AOF_REWRITE_PERCENTAGE:-100}\"\nexport REDIS_AOF_REWRITE_MIN_SIZE=\"${REDIS_AOF_REWRITE_MIN_SIZE:-64mb}\"\n\n# === RUNTIME VARIABLES - Performance ===\nexport REDIS_DATABASES=\"${REDIS_DATABASES:-16}\"\nexport REDIS_TCP_BACKLOG=\"${REDIS_TCP_BACKLOG:-511}\"\nexport REDIS_TIMEOUT=\"${REDIS_TIMEOUT:-0}\"\nexport REDIS_TCP_KEEPALIVE=\"${REDIS_TCP_KEEPALIVE:-300}\"\nexport REDIS_MAXCLIENTS=\"${REDIS_MAXCLIENTS:-10000}\"\n\n# === RUNTIME VARIABLES - Slow Log ===\nexport REDIS_SLOWLOG_LOG_SLOWER_THAN=\"${REDIS_SLOWLOG_LOG_SLOWER_THAN:-10000}\"\nexport REDIS_SLOWLOG_MAX_LEN=\"${REDIS_SLOWLOG_MAX_LEN:-128}\"\n\n# === RUNTIME VARIABLES - Latency Monitor ===\nexport REDIS_LATENCY_MONITOR_THRESHOLD=\"${REDIS_LATENCY_MONITOR_THRESHOLD:-0}\"\n\n# === RUNTIME VARIABLES - Security ===\nexport REDIS_PROTECTED_MODE=\"${REDIS_PROTECTED_MODE:-yes}\"\nexport REDIS_RENAME_COMMANDS=\"${REDIS_RENAME_COMMANDS:-}\"\n\n# === FLEXIBILITY ===\nexport REDIS_EXTRA_OPTS=\"${REDIS_EXTRA_OPTS:-}\"\n\n# === DERIVED VARIABLES ===\nexport REDIS_DIR=\"${REDIS_DIR:-$FLOX_ENV_CACHE/redis-data}\"\nexport REDIS_CONF_FILE=\"$REDIS_CONFIG_DIR/redis.conf\"\nexport REDIS_LOG_FILE=\"$REDIS_LOG_DIR/redis.log\"\n\n# === CONFIGURATION GENERATION ===\ngenerate_redis_config() {\n    # Ensure directories exist\n    mkdir -p \"$REDIS_DIR\" \"$REDIS_CONFIG_DIR\" \"$REDIS_LOG_DIR\"\n    chmod 700 \"$REDIS_DIR\" \"$REDIS_CONFIG_DIR\"\n\n    cat > \"$REDIS_CONF_FILE\" << EOF\n# Redis configuration generated by Flox (headless mode)\n# Connection\nbind $REDIS_HOST\nport $REDIS_PORT\nprotected-mode $REDIS_PROTECTED_MODE\n\n# General\ndaemonize no\ndir $REDIS_DIR\nlogfile $REDIS_LOG_FILE\ndatabases $REDIS_DATABASES\n\n# Network\ntcp-backlog $REDIS_TCP_BACKLOG\ntimeout $REDIS_TIMEOUT\ntcp-keepalive $REDIS_TCP_KEEPALIVE\n\n# Clients\nmaxclients $REDIS_MAXCLIENTS\n\n# Memory Management\nmaxmemory $REDIS_MAXMEMORY\nmaxmemory-policy $REDIS_MAXMEMORY_POLICY\nmaxmemory-samples $REDIS_MAXMEMORY_SAMPLES\n\nEOF\n\n    # Add password if set\n    if [ -n \"$REDIS_PASSWORD\" ]; then\n        echo \"# Security\" >> \"$REDIS_CONF_FILE\"\n        echo \"requirepass $REDIS_PASSWORD\" >> \"$REDIS_CONF_FILE\"\n        echo \"\" >> \"$REDIS_CONF_FILE\"\n    fi\n\n    # Add command renaming if set\n    if [ -n \"$REDIS_RENAME_COMMANDS\" ]; then\n        echo \"# Command renaming\" >> \"$REDIS_CONF_FILE\"\n        # Format: \"FLUSHDB,FLUSHALL,CONFIG\" -> rename-command FLUSHDB \"\", rename-command FLUSHALL \"\"\n        IFS=',' read -ra CMDS <<< \"$REDIS_RENAME_COMMANDS\"\n        for cmd in \"${CMDS[@]}\"; do\n            echo \"rename-command $cmd \\\"\\\"\" >> \"$REDIS_CONF_FILE\"\n        done\n        echo \"\" >> \"$REDIS_CONF_FILE\"\n    fi\n\n    # RDB Persistence\n    echo \"# RDB Persistence\" >> \"$REDIS_CONF_FILE\"\n    if [ \"$REDIS_SAVE_RDB\" = \"yes\" ]; then\n        echo \"save 900 $REDIS_SAVE_900\" >> \"$REDIS_CONF_FILE\"\n        echo \"save 300 $REDIS_SAVE_300\" >> \"$REDIS_CONF_FILE\"\n        echo \"save 60 $REDIS_SAVE_60\" >> \"$REDIS_CONF_FILE\"\n        echo \"rdbcompression $REDIS_RDB_COMPRESSION\" >> \"$REDIS_CONF_FILE\"\n        echo \"rdbchecksum $REDIS_RDB_CHECKSUM\" >> \"$REDIS_CONF_FILE\"\n    else\n        echo \"save \\\"\\\"\" >> \"$REDIS_CONF_FILE\"\n    fi\n    echo \"\" >> \"$REDIS_CONF_FILE\"\n\n    # AOF Persistence\n    echo \"# AOF Persistence\" >> \"$REDIS_CONF_FILE\"\n    echo \"appendonly $REDIS_APPENDONLY\" >> \"$REDIS_CONF_FILE\"\n    if [ \"$REDIS_APPENDONLY\" = \"yes\" ]; then\n        echo \"appendfsync $REDIS_APPENDFSYNC\" >> \"$REDIS_CONF_FILE\"\n        echo \"auto-aof-rewrite-percentage $REDIS_AOF_REWRITE_PERCENTAGE\" >> \"$REDIS_CONF_FILE\"\n        echo \"auto-aof-rewrite-min-size $REDIS_AOF_REWRITE_MIN_SIZE\" >> \"$REDIS_CONF_FILE\"\n    fi\n    echo \"\" >> \"$REDIS_CONF_FILE\"\n\n    # Slow Log\n    echo \"# Slow Log\" >> \"$REDIS_CONF_FILE\"\n    echo \"slowlog-log-slower-than $REDIS_SLOWLOG_LOG_SLOWER_THAN\" >> \"$REDIS_CONF_FILE\"\n    echo \"slowlog-max-len $REDIS_SLOWLOG_MAX_LEN\" >> \"$REDIS_CONF_FILE\"\n    echo \"\" >> \"$REDIS_CONF_FILE\"\n\n    # Latency Monitor\n    echo \"# Latency Monitor\" >> \"$REDIS_CONF_FILE\"\n    echo \"latency-monitor-threshold $REDIS_LATENCY_MONITOR_THRESHOLD\" >> \"$REDIS_CONF_FILE\"\n\n    chmod 644 \"$REDIS_CONF_FILE\"\n    return 0\n}\n\n# Generate configuration on activation\ngenerate_redis_config\n\n# Display info with safety warnings\necho \"\"\necho \"âœ… Redis environment ready (headless mode)\"\necho \"\"\n\n# Safety warnings\nif [ \"$REDIS_PROTECTED_MODE\" = \"no\" ]; then\n    echo \"âš ï¸  WARNING: Protected mode disabled - EXPOSED TO NETWORK\"\nfi\nif [ -z \"$REDIS_PASSWORD\" ]; then\n    echo \"âš ï¸  WARNING: No password set - UNAUTHENTICATED ACCESS\"\nfi\nif [ \"$REDIS_HOST\" = \"0.0.0.0\" ]; then\n    echo \"âš ï¸  WARNING: Listening on all interfaces - NETWORK EXPOSED\"\nfi\nif [ \"$REDIS_APPENDONLY\" = \"no\" ] && [ \"$REDIS_SAVE_RDB\" = \"no\" ]; then\n    echo \"âš ï¸  WARNING: All persistence disabled - DATA LOSS ON RESTART\"\nfi\n[ \"$REDIS_PROTECTED_MODE\" = \"no\" ] || [ -z \"$REDIS_PASSWORD\" ] || [ \"$REDIS_HOST\" = \"0.0.0.0\" ] || [ \"$REDIS_APPENDONLY\" = \"no\" -a \"$REDIS_SAVE_RDB\" = \"no\" ] && echo \"\"\n\necho \"Connection:\"\necho \"  Host: ${REDIS_HOST}:${REDIS_PORT}\"\nif [ -n \"$REDIS_PASSWORD\" ]; then\n    echo \"  Password: ***\"\nelse\n    echo \"  Password: (none)\"\nfi\necho \"\"\necho \"Memory:\"\necho \"  Max memory: ${REDIS_MAXMEMORY}\"\necho \"  Eviction policy: ${REDIS_MAXMEMORY_POLICY}\"\necho \"\"\necho \"Persistence:\"\necho \"  RDB snapshots: ${REDIS_SAVE_RDB}\"\necho \"  AOF logging: ${REDIS_APPENDONLY}\"\necho \"\"\necho \"Commands:\"\necho \"  flox activate -s        Start Redis\"\necho \"  redis-cli               Connect to Redis\"\necho \"  redis-info              Show configuration\"\necho \"\"\n\n# Create required directories\nmkdir -p \"$FLOX_ENV_CACHE/n8n-config\"\nmkdir -p \"$FLOX_ENV_CACHE/n8n-logs\"\nmkdir -p \"$FLOX_ENV_CACHE/n8n-data\"\n\nexport CONFIG_FILE=\"${FLOX_ENV_CACHE}/n8n.config\"\nexport ENCRYPTION_KEY_FILE=\"$FLOX_ENV_CACHE/n8n-encryption.key\"\n\n# Default values\nexport DEFAULT_DB_TYPE=\"postgresdb\"\nexport DEFAULT_DB_HOST=\"localhost\"\nexport DEFAULT_DB_PORT=\"5432\"\nexport DEFAULT_DB_DATABASE=\"n8n\"\nexport DEFAULT_DB_USER=\"postgres\"\nexport DEFAULT_DB_PASSWORD=\"postgres\"\nexport DEFAULT_N8N_HOST=\"localhost\"\nexport DEFAULT_N8N_PORT=\"5678\"\nexport DEFAULT_N8N_PROTOCOL=\"http\"\nexport DEFAULT_EXECUTIONS_MODE=\"regular\"\nexport DEFAULT_BASIC_AUTH=\"true\"\nexport DEFAULT_BASIC_AUTH_USER=\"admin\"\nexport DEFAULT_BASIC_AUTH_PASSWORD=\"admin\"\nexport DEFAULT_REDIS_HOST=\"127.0.0.1\"\nexport DEFAULT_REDIS_PORT=\"16379\"\nexport DEFAULT_QUEUE_WORKERS=\"1\"\n\n# Check if first run\ncheck_first_run() {\n    if [[ ! -f \"$CONFIG_FILE\" ]]; then\n        return 0 # True, first run\n    else\n        return 1 # False, not first run\n    fi\n}\n\n# Load configuration\nload_config() {\n    if [[ -f \"$CONFIG_FILE\" ]]; then\n        source \"$CONFIG_FILE\"\n    else\n        # Set defaults\n        export DB_TYPE=\"$DEFAULT_DB_TYPE\"\n        export DB_POSTGRESDB_HOST=\"$DEFAULT_DB_HOST\"\n        export DB_POSTGRESDB_PORT=\"$DEFAULT_DB_PORT\"\n        export DB_POSTGRESDB_DATABASE=\"$DEFAULT_DB_DATABASE\"\n        export DB_POSTGRESDB_USER=\"$DEFAULT_DB_USER\"\n        export DB_POSTGRESDB_PASSWORD=\"$DEFAULT_DB_PASSWORD\"\n        export N8N_HOST=\"$DEFAULT_N8N_HOST\"\n        export N8N_PORT=\"$DEFAULT_N8N_PORT\"\n        export N8N_PROTOCOL=\"$DEFAULT_N8N_PROTOCOL\"\n        export EXECUTIONS_MODE=\"$DEFAULT_EXECUTIONS_MODE\"\n        export N8N_BASIC_AUTH_ACTIVE=\"$DEFAULT_BASIC_AUTH\"\n        export N8N_BASIC_AUTH_USER=\"$DEFAULT_BASIC_AUTH_USER\"\n        export N8N_BASIC_AUTH_PASSWORD=\"$DEFAULT_BASIC_AUTH_PASSWORD\"\n        export QUEUE_BULL_REDIS_HOST=\"$DEFAULT_REDIS_HOST\"\n        export QUEUE_BULL_REDIS_PORT=\"$DEFAULT_REDIS_PORT\"\n        export QUEUE_WORKERS=\"$DEFAULT_QUEUE_WORKERS\"\n        export WEBHOOK_URL=\"\"\n    fi\n}\n\n# Ensure encryption key exists\nensure_encryption_key() {\n    if [ -f \"$ENCRYPTION_KEY_FILE\" ]; then\n        export N8N_ENCRYPTION_KEY=$(cat \"$ENCRYPTION_KEY_FILE\")\n    else\n        export N8N_ENCRYPTION_KEY=$(openssl rand -hex 32)\n        echo \"$N8N_ENCRYPTION_KEY\" > \"$ENCRYPTION_KEY_FILE\"\n        chmod 600 \"$ENCRYPTION_KEY_FILE\"\n        echo \"\"\n        gum style --foreground 208 \"âš ï¸  Encryption key generated and saved to:\"\n        echo \"   $ENCRYPTION_KEY_FILE\"\n        echo \"\"\n        gum style --foreground 196 --bold \"ðŸ”’ CRITICAL: Back up this file!\"\n        echo \"   Without it, stored credentials are unrecoverable.\"\n        echo \"\"\n    fi\n}\n\n# Save configuration\nsave_config() {\n    mkdir -p \"$(dirname \"$CONFIG_FILE\")\"\n    cat > \"$CONFIG_FILE\" << EOF\n# n8n configuration - Generated on $(date)\nexport DB_TYPE=\"$DB_TYPE\"\nexport DB_POSTGRESDB_HOST=\"$DB_POSTGRESDB_HOST\"\nexport DB_POSTGRESDB_PORT=\"$DB_POSTGRESDB_PORT\"\nexport DB_POSTGRESDB_DATABASE=\"$DB_POSTGRESDB_DATABASE\"\nexport DB_POSTGRESDB_USER=\"$DB_POSTGRESDB_USER\"\nexport DB_POSTGRESDB_PASSWORD=\"$DB_POSTGRESDB_PASSWORD\"\nexport N8N_HOST=\"$N8N_HOST\"\nexport N8N_PORT=\"$N8N_PORT\"\nexport N8N_PROTOCOL=\"$N8N_PROTOCOL\"\nexport EXECUTIONS_MODE=\"$EXECUTIONS_MODE\"\nexport N8N_BASIC_AUTH_ACTIVE=\"$N8N_BASIC_AUTH_ACTIVE\"\nexport N8N_BASIC_AUTH_USER=\"$N8N_BASIC_AUTH_USER\"\nexport N8N_BASIC_AUTH_PASSWORD=\"$N8N_BASIC_AUTH_PASSWORD\"\nexport QUEUE_BULL_REDIS_HOST=\"$QUEUE_BULL_REDIS_HOST\"\nexport QUEUE_BULL_REDIS_PORT=\"$QUEUE_BULL_REDIS_PORT\"\nexport QUEUE_WORKERS=\"$QUEUE_WORKERS\"\nexport WEBHOOK_URL=\"$WEBHOOK_URL\"\nEOF\n    chmod 644 \"$CONFIG_FILE\"\n}\n\n# Prompt for configuration\nprompt_for_config() {\n    gum style --border double --padding \"1 2\" --border-foreground 212 \"\n    ðŸŽ¯ n8n Configuration Wizard\n    \"\n\n    echo \"\"\n    gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n    gum style --foreground 33 --bold \"ðŸ“Š Database Configuration\"\n    gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n    echo \"\"\n\n    DB_TYPE=$(gum choose --header \"Select database:\" \"PostgreSQL (recommended)\" \"SQLite (development only)\")\n\n    if [[ \"$DB_TYPE\" == \"PostgreSQL (recommended)\" ]]; then\n        export DB_TYPE=\"postgresdb\"\n\n        gum style --foreground 240 \"PostgreSQL settings (uses composed postgres-headless):\"\n        echo \"\"\n\n        DB_POSTGRESDB_HOST=$(gum input --placeholder \"$DEFAULT_DB_HOST\" --value \"$DEFAULT_DB_HOST\" --prompt \"Host: \")\n        DB_POSTGRESDB_PORT=$(gum input --placeholder \"$DEFAULT_DB_PORT\" --value \"$DEFAULT_DB_PORT\" --prompt \"Port: \")\n        DB_POSTGRESDB_DATABASE=$(gum input --placeholder \"$DEFAULT_DB_DATABASE\" --value \"$DEFAULT_DB_DATABASE\" --prompt \"Database: \")\n        DB_POSTGRESDB_USER=$(gum input --placeholder \"$DEFAULT_DB_USER\" --value \"$DEFAULT_DB_USER\" --prompt \"Username: \")\n        DB_POSTGRESDB_PASSWORD=$(gum input --placeholder \"$DEFAULT_DB_PASSWORD\" --value \"$DEFAULT_DB_PASSWORD\" --prompt \"Password: \" --password)\n\n        export DB_POSTGRESDB_HOST DB_POSTGRESDB_PORT DB_POSTGRESDB_DATABASE\n        export DB_POSTGRESDB_USER DB_POSTGRESDB_PASSWORD\n    else\n        export DB_TYPE=\"sqlite\"\n        gum style --foreground 208 \"âš ï¸  SQLite is NOT recommended for production\"\n    fi\n\n    echo \"\"\n    gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n    gum style --foreground 33 --bold \"ðŸ” Security Configuration\"\n    gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n    echo \"\"\n\n    if gum confirm \"Enable basic authentication?\" --default=true; then\n        export N8N_BASIC_AUTH_ACTIVE=\"true\"\n        N8N_BASIC_AUTH_USER=$(gum input --placeholder \"$DEFAULT_BASIC_AUTH_USER\" --value \"$DEFAULT_BASIC_AUTH_USER\" --prompt \"Username: \")\n        N8N_BASIC_AUTH_PASSWORD=$(gum input --placeholder \"$DEFAULT_BASIC_AUTH_PASSWORD\" --value \"$DEFAULT_BASIC_AUTH_PASSWORD\" --prompt \"Password: \" --password)\n        export N8N_BASIC_AUTH_USER N8N_BASIC_AUTH_PASSWORD\n    else\n        export N8N_BASIC_AUTH_ACTIVE=\"false\"\n        gum style --foreground 208 \"âš ï¸  Authentication disabled - not recommended\"\n    fi\n\n    echo \"\"\n    gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n    gum style --foreground 33 --bold \"ðŸ“¡ Webhook Configuration\"\n    gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n    echo \"\"\n\n    gum style --foreground 240 \"Webhooks require public URLs (e.g., via ngrok)\"\n    echo \"\"\n\n    if gum confirm \"Configure webhook tunnel URL?\" --default=false; then\n        WEBHOOK_URL=$(gum input --placeholder \"https://xyz.ngrok.io\" --prompt \"Webhook URL: \")\n        export WEBHOOK_URL\n    else\n        export WEBHOOK_URL=\"\"\n    fi\n\n    echo \"\"\n    gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n    gum style --foreground 33 --bold \"âš™ï¸  Queue Mode (for scaling)\"\n    gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n    echo \"\"\n\n    gum style --foreground 240 \"Queue mode uses Redis for distributed execution\"\n    echo \"\"\n\n    if gum confirm \"Enable queue mode?\" --default=false; then\n        export EXECUTIONS_MODE=\"queue\"\n        QUEUE_WORKERS=$(gum input --placeholder \"$DEFAULT_QUEUE_WORKERS\" --value \"$DEFAULT_QUEUE_WORKERS\" --prompt \"Number of workers: \")\n        export QUEUE_WORKERS\n\n        gum style --foreground 240 \"Redis settings (uses composed redis-headless):\"\n        echo \"\"\n        QUEUE_BULL_REDIS_HOST=$(gum input --placeholder \"$DEFAULT_REDIS_HOST\" --value \"$DEFAULT_REDIS_HOST\" --prompt \"Redis Host: \")\n        QUEUE_BULL_REDIS_PORT=$(gum input --placeholder \"$DEFAULT_REDIS_PORT\" --value \"$DEFAULT_REDIS_PORT\" --prompt \"Redis Port: \")\n        export QUEUE_BULL_REDIS_HOST QUEUE_BULL_REDIS_PORT\n    else\n        export EXECUTIONS_MODE=\"regular\"\n        export QUEUE_WORKERS=\"0\"\n    fi\n\n    # n8n host/port\n    export N8N_HOST=\"$DEFAULT_N8N_HOST\"\n    export N8N_PORT=\"$DEFAULT_N8N_PORT\"\n    export N8N_PROTOCOL=\"$DEFAULT_N8N_PROTOCOL\"\n}\n\n# Initialize n8n\ninitialize_n8n() {\n    export N8N_USER_FOLDER=\"$N8N_DATA_DIR\"\n\n    # n8n auto-initializes on first start\n    # Just ensure encryption key is set\n    ensure_encryption_key\n\n    # Additional env vars\n    export QUEUE_HEALTH_CHECK_ACTIVE=\"true\"\n\n    if [ -n \"$WEBHOOK_URL\" ]; then\n        export WEBHOOK_TUNNEL_URL=\"$WEBHOOK_URL\"\n    fi\n}\n\n# First run setup\nfirst_run_setup() {\n    gum style --border double --padding \"1 2\" --border-foreground 212 \"\n    ðŸš€ Welcome to n8n!\n\n    Let's configure your workflow automation environment.\n    \"\n    echo \"\"\n\n    prompt_for_config\n\n    echo \"\"\n    gum style --foreground 46 \"âœ… Configuration complete!\"\n    echo \"\"\n\n    save_config\n    initialize_n8n\n}\n\n# Display info\ndisplay_n8n_info() {\n    echo \"\"\n    gum style --border double --padding \"1 2\" --border-foreground 212 \"\n    âœ… n8n Environment Ready\n    \"\n    echo \"\"\n\n    echo \"Mode: $EXECUTIONS_MODE\"\n    echo \"Database: $DB_TYPE\"\n    if [ \"$DB_TYPE\" = \"postgresdb\" ]; then\n        echo \"  Host: $DB_POSTGRESDB_HOST:$DB_POSTGRESDB_PORT\"\n        echo \"  Database: $DB_POSTGRESDB_DATABASE\"\n    fi\n    echo \"\"\n    echo \"n8n URL: $N8N_PROTOCOL://$N8N_HOST:$N8N_PORT\"\n\n    if [ \"$N8N_BASIC_AUTH_ACTIVE\" = \"true\" ]; then\n        echo \"Username: $N8N_BASIC_AUTH_USER\"\n        echo \"Password: $N8N_BASIC_AUTH_PASSWORD\"\n    else\n        echo \"âš ï¸  Authentication: Disabled\"\n    fi\n\n    if [ \"$EXECUTIONS_MODE\" = \"queue\" ]; then\n        echo \"\"\n        echo \"Queue Mode:\"\n        echo \"  Workers: $QUEUE_WORKERS\"\n        echo \"  Redis: $QUEUE_BULL_REDIS_HOST:$QUEUE_BULL_REDIS_PORT\"\n    fi\n\n    if [ -n \"$WEBHOOK_URL\" ]; then\n        echo \"\"\n        echo \"Webhook URL: $WEBHOOK_URL\"\n    fi\n\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  flox activate -s     Start n8n services\"\n    echo \"  n8n-info             Show configuration\"\n    echo \"  n8n-reconfigure      Reconfigure environment\"\n    echo \"\"\n}\n\n# Main execution\nmain() {\n    if check_first_run; then\n        first_run_setup\n    else\n        load_config\n        ensure_encryption_key\n        initialize_n8n\n    fi\n\n    display_n8n_info\n\n    cd \"$FLOX_ENV_PROJECT\"\n}\n\nmain\n"
    },
    "profile": {
      "bash": "postgres-info() {\n    echo \"PostgreSQL (Headless Mode) - Configuration\"\n    echo \"\"\n    echo \"Connection:\"\n    echo \"  Listen address: ${PGHOSTADDR}:${PGPORT}\"\n    echo \"  Client connects to: ${PGHOST}\"\n    echo \"  Database: ${PGDATABASE}\"\n    echo \"  User: ${PGUSER}\"\n    echo \"  Auth method: ${POSTGRES_HOST_AUTH_METHOD}\"\n    echo \"\"\n    echo \"Performance:\"\n    echo \"  Max connections: ${POSTGRES_MAX_CONNECTIONS}\"\n    echo \"  Shared buffers: ${POSTGRES_SHARED_BUFFERS}\"\n    echo \"  Work mem: ${POSTGRES_WORK_MEM}\"\n    echo \"  Effective cache size: ${POSTGRES_EFFECTIVE_CACHE_SIZE}\"\n    echo \"  fsync: ${POSTGRES_FSYNC}\"\n    echo \"  Synchronous commit: ${POSTGRES_SYNCHRONOUS_COMMIT}\"\n    echo \"\"\n    echo \"WAL:\"\n    echo \"  Max WAL size: ${POSTGRES_MAX_WAL_SIZE}\"\n    echo \"  Min WAL size: ${POSTGRES_MIN_WAL_SIZE}\"\n    echo \"  Checkpoint timeout: ${POSTGRES_CHECKPOINT_TIMEOUT}\"\n    echo \"\"\n    echo \"Logging:\"\n    echo \"  Statement logging: ${POSTGRES_LOG_STATEMENT}\"\n    echo \"  Duration logging: ${POSTGRES_LOG_DURATION}\"\n    echo \"  Connection logging: ${POSTGRES_LOG_CONNECTIONS}\"\n    echo \"\"\n    echo \"Data Directory: ${PGDATA}\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  psql                        Connect to database\"\n    echo \"  flox activate -s            Start PostgreSQL service\"\n    echo \"  flox services status        Check service status\"\n    echo \"  flox services logs postgres View service logs\"\n    echo \"  flox services restart postgres Restart with new settings\"\n}\nexport -f postgres-info\n\nredis-info() {\n    echo \"Redis (Headless Mode) - Configuration\"\n    echo \"\"\n    echo \"Connection:\"\n    echo \"  Host: ${REDIS_HOST}:${REDIS_PORT}\"\n    if [ -n \"$REDIS_PASSWORD\" ]; then\n        echo \"  Password: ***\"\n    else\n        echo \"  Password: (none)\"\n    fi\n    echo \"  Protected mode: ${REDIS_PROTECTED_MODE}\"\n    echo \"\"\n    echo \"Memory:\"\n    echo \"  Max memory: ${REDIS_MAXMEMORY}\"\n    echo \"  Eviction policy: ${REDIS_MAXMEMORY_POLICY}\"\n    echo \"  Eviction samples: ${REDIS_MAXMEMORY_SAMPLES}\"\n    echo \"\"\n    echo \"Persistence (RDB):\"\n    echo \"  Enabled: ${REDIS_SAVE_RDB}\"\n    if [ \"$REDIS_SAVE_RDB\" = \"yes\" ]; then\n        echo \"  Save after 900s if ${REDIS_SAVE_900}+ changes\"\n        echo \"  Save after 300s if ${REDIS_SAVE_300}+ changes\"\n        echo \"  Save after 60s if ${REDIS_SAVE_60}+ changes\"\n        echo \"  Compression: ${REDIS_RDB_COMPRESSION}\"\n        echo \"  Checksum: ${REDIS_RDB_CHECKSUM}\"\n    fi\n    echo \"\"\n    echo \"Persistence (AOF):\"\n    echo \"  Enabled: ${REDIS_APPENDONLY}\"\n    if [ \"$REDIS_APPENDONLY\" = \"yes\" ]; then\n        echo \"  Fsync policy: ${REDIS_APPENDFSYNC}\"\n        echo \"  Rewrite percentage: ${REDIS_AOF_REWRITE_PERCENTAGE}\"\n        echo \"  Rewrite min size: ${REDIS_AOF_REWRITE_MIN_SIZE}\"\n    fi\n    echo \"\"\n    echo \"Performance:\"\n    echo \"  Databases: ${REDIS_DATABASES}\"\n    echo \"  Max clients: ${REDIS_MAXCLIENTS}\"\n    echo \"  TCP backlog: ${REDIS_TCP_BACKLOG}\"\n    echo \"  Timeout: ${REDIS_TIMEOUT}s\"\n    echo \"  TCP keepalive: ${REDIS_TCP_KEEPALIVE}s\"\n    echo \"\"\n    echo \"Monitoring:\"\n    echo \"  Slow log threshold: ${REDIS_SLOWLOG_LOG_SLOWER_THAN}Î¼s\"\n    echo \"  Slow log max length: ${REDIS_SLOWLOG_MAX_LEN}\"\n    echo \"  Latency monitor threshold: ${REDIS_LATENCY_MONITOR_THRESHOLD}ms\"\n    echo \"\"\n    echo \"Data Directory: ${REDIS_DIR}\"\n    echo \"Config File: ${REDIS_CONF_FILE}\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  redis-cli                       Connect to Redis\"\n    echo \"  flox activate -s                Start Redis service\"\n    echo \"  flox services status            Check service status\"\n    echo \"  flox services logs redis        View service logs\"\n    echo \"  flox services restart redis     Restart with new settings\"\n}\nexport -f redis-info\n\nn8n-info() {\n    echo \"n8n Environment Configuration\"\n    echo \"\"\n    echo \"Mode: $EXECUTIONS_MODE\"\n    echo \"Database: $DB_TYPE\"\n    if [ \"$DB_TYPE\" = \"postgresdb\" ]; then\n        echo \"  Host: $DB_POSTGRESDB_HOST:$DB_POSTGRESDB_PORT\"\n        echo \"  Database: $DB_POSTGRESDB_DATABASE\"\n    fi\n    echo \"\"\n    echo \"n8n URL: $N8N_PROTOCOL://$N8N_HOST:$N8N_PORT\"\n\n    if [ \"$N8N_BASIC_AUTH_ACTIVE\" = \"true\" ]; then\n        echo \"Username: $N8N_BASIC_AUTH_USER\"\n        echo \"Password: (set)\"\n    else\n        echo \"Authentication: Disabled\"\n    fi\n\n    if [ \"$EXECUTIONS_MODE\" = \"queue\" ]; then\n        echo \"\"\n        echo \"Queue Mode:\"\n        echo \"  Workers: $QUEUE_WORKERS\"\n        echo \"  Redis: $QUEUE_BULL_REDIS_HOST:$QUEUE_BULL_REDIS_PORT\"\n    fi\n\n    if [ -n \"$WEBHOOK_URL\" ]; then\n        echo \"\"\n        echo \"Webhook URL: $WEBHOOK_URL\"\n    fi\n\n    echo \"\"\n    echo \"Encryption Key: $ENCRYPTION_KEY_FILE\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  flox services status         Check service status\"\n    echo \"  flox services logs n8n-main  View main logs\"\n    echo \"  n8n-reconfigure              Reconfigure environment\"\n}\nexport -f n8n-info\n\nn8n-reconfigure() {\n    echo \"Reconfiguring n8n environment...\"\n    echo \"\"\n\n    # Backup old config\n    if [ -f \"$CONFIG_FILE\" ]; then\n        cp \"$CONFIG_FILE\" \"$CONFIG_FILE.backup\"\n        echo \"âœ… Backed up old configuration\"\n    fi\n\n    # Re-run configuration wizard\n    source \"$CONFIG_FILE\"\n\n    prompt_for_config() {\n        gum style --border double --padding \"1 2\" --border-foreground 212 \"\n        ðŸ”§ Reconfigure n8n\n        \"\n        echo \"\"\n\n        # Copy the prompt logic from hook\n        gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n        gum style --foreground 33 --bold \"ðŸ“Š Database Configuration\"\n        gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n        echo \"\"\n\n        DB_TYPE=$(gum choose --header \"Select database:\" \"PostgreSQL (recommended)\" \"SQLite (development only)\")\n\n        if [[ \"$DB_TYPE\" == \"PostgreSQL (recommended)\" ]]; then\n            export DB_TYPE=\"postgresdb\"\n\n            gum style --foreground 240 \"PostgreSQL settings:\"\n            echo \"\"\n\n            DB_POSTGRESDB_HOST=$(gum input --placeholder \"$DB_POSTGRESDB_HOST\" --value \"$DB_POSTGRESDB_HOST\" --prompt \"Host: \")\n            DB_POSTGRESDB_PORT=$(gum input --placeholder \"$DB_POSTGRESDB_PORT\" --value \"$DB_POSTGRESDB_PORT\" --prompt \"Port: \")\n            DB_POSTGRESDB_DATABASE=$(gum input --placeholder \"$DB_POSTGRESDB_DATABASE\" --value \"$DB_POSTGRESDB_DATABASE\" --prompt \"Database: \")\n            DB_POSTGRESDB_USER=$(gum input --placeholder \"$DB_POSTGRESDB_USER\" --value \"$DB_POSTGRESDB_USER\" --prompt \"Username: \")\n            DB_POSTGRESDB_PASSWORD=$(gum input --placeholder \"$DB_POSTGRESDB_PASSWORD\" --value \"$DB_POSTGRESDB_PASSWORD\" --prompt \"Password: \" --password)\n\n            export DB_POSTGRESDB_HOST DB_POSTGRESDB_PORT DB_POSTGRESDB_DATABASE\n            export DB_POSTGRESDB_USER DB_POSTGRESDB_PASSWORD\n        else\n            export DB_TYPE=\"sqlite\"\n        fi\n\n        echo \"\"\n        gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n        gum style --foreground 33 --bold \"ðŸ” Security Configuration\"\n        gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n        echo \"\"\n\n        if gum confirm \"Enable basic authentication?\" --default=true; then\n            export N8N_BASIC_AUTH_ACTIVE=\"true\"\n            N8N_BASIC_AUTH_USER=$(gum input --placeholder \"$N8N_BASIC_AUTH_USER\" --value \"$N8N_BASIC_AUTH_USER\" --prompt \"Username: \")\n            N8N_BASIC_AUTH_PASSWORD=$(gum input --placeholder \"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\" --prompt \"Password: \" --password)\n            export N8N_BASIC_AUTH_USER N8N_BASIC_AUTH_PASSWORD\n        else\n            export N8N_BASIC_AUTH_ACTIVE=\"false\"\n        fi\n\n        echo \"\"\n        gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n        gum style --foreground 33 --bold \"ðŸ“¡ Webhook Configuration\"\n        gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n        echo \"\"\n\n        if gum confirm \"Configure webhook tunnel URL?\" --default=false; then\n            WEBHOOK_URL=$(gum input --placeholder \"$WEBHOOK_URL\" --value \"$WEBHOOK_URL\" --prompt \"Webhook URL: \")\n            export WEBHOOK_URL\n        else\n            export WEBHOOK_URL=\"\"\n        fi\n\n        echo \"\"\n        gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n        gum style --foreground 33 --bold \"âš™ï¸  Queue Mode\"\n        gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n        echo \"\"\n\n        if gum confirm \"Enable queue mode?\" --default=false; then\n            export EXECUTIONS_MODE=\"queue\"\n            QUEUE_WORKERS=$(gum input --placeholder \"$QUEUE_WORKERS\" --value \"$QUEUE_WORKERS\" --prompt \"Number of workers: \")\n            export QUEUE_WORKERS\n\n            QUEUE_BULL_REDIS_HOST=$(gum input --placeholder \"$QUEUE_BULL_REDIS_HOST\" --value \"$QUEUE_BULL_REDIS_HOST\" --prompt \"Redis Host: \")\n            QUEUE_BULL_REDIS_PORT=$(gum input --placeholder \"$QUEUE_BULL_REDIS_PORT\" --value \"$QUEUE_BULL_REDIS_PORT\" --prompt \"Redis Port: \")\n            export QUEUE_BULL_REDIS_HOST QUEUE_BULL_REDIS_PORT\n        else\n            export EXECUTIONS_MODE=\"regular\"\n            export QUEUE_WORKERS=\"0\"\n        fi\n    }\n\n    prompt_for_config\n\n    # Save new configuration\n    save_config() {\n        mkdir -p \"$(dirname \"$CONFIG_FILE\")\"\n        cat > \"$CONFIG_FILE\" << EOF\n# n8n configuration - Generated on $(date)\nexport DB_TYPE=\"$DB_TYPE\"\nexport DB_POSTGRESDB_HOST=\"$DB_POSTGRESDB_HOST\"\nexport DB_POSTGRESDB_PORT=\"$DB_POSTGRESDB_PORT\"\nexport DB_POSTGRESDB_DATABASE=\"$DB_POSTGRESDB_DATABASE\"\nexport DB_POSTGRESDB_USER=\"$DB_POSTGRESDB_USER\"\nexport DB_POSTGRESDB_PASSWORD=\"$DB_POSTGRESDB_PASSWORD\"\nexport N8N_HOST=\"$N8N_HOST\"\nexport N8N_PORT=\"$N8N_PORT\"\nexport N8N_PROTOCOL=\"$N8N_PROTOCOL\"\nexport EXECUTIONS_MODE=\"$EXECUTIONS_MODE\"\nexport N8N_BASIC_AUTH_ACTIVE=\"$N8N_BASIC_AUTH_ACTIVE\"\nexport N8N_BASIC_AUTH_USER=\"$N8N_BASIC_AUTH_USER\"\nexport N8N_BASIC_AUTH_PASSWORD=\"$N8N_BASIC_AUTH_PASSWORD\"\nexport QUEUE_BULL_REDIS_HOST=\"$QUEUE_BULL_REDIS_HOST\"\nexport QUEUE_BULL_REDIS_PORT=\"$QUEUE_BULL_REDIS_PORT\"\nexport QUEUE_WORKERS=\"$QUEUE_WORKERS\"\nexport WEBHOOK_URL=\"$WEBHOOK_URL\"\nEOF\n        chmod 644 \"$CONFIG_FILE\"\n    }\n\n    save_config\n\n    echo \"\"\n    gum style --foreground 46 \"âœ… Configuration saved!\"\n    echo \"\"\n    echo \"Restart services to apply changes:\"\n    echo \"  flox services restart\"\n}\nexport -f n8n-reconfigure\n",
      "zsh": "postgres-info() {\n    echo \"PostgreSQL (Headless Mode) - Configuration\"\n    echo \"\"\n    echo \"Connection:\"\n    echo \"  Listen address: ${PGHOSTADDR}:${PGPORT}\"\n    echo \"  Client connects to: ${PGHOST}\"\n    echo \"  Database: ${PGDATABASE}\"\n    echo \"  User: ${PGUSER}\"\n    echo \"  Auth method: ${POSTGRES_HOST_AUTH_METHOD}\"\n    echo \"\"\n    echo \"Performance:\"\n    echo \"  Max connections: ${POSTGRES_MAX_CONNECTIONS}\"\n    echo \"  Shared buffers: ${POSTGRES_SHARED_BUFFERS}\"\n    echo \"  Work mem: ${POSTGRES_WORK_MEM}\"\n    echo \"  Effective cache size: ${POSTGRES_EFFECTIVE_CACHE_SIZE}\"\n    echo \"  fsync: ${POSTGRES_FSYNC}\"\n    echo \"  Synchronous commit: ${POSTGRES_SYNCHRONOUS_COMMIT}\"\n    echo \"\"\n    echo \"WAL:\"\n    echo \"  Max WAL size: ${POSTGRES_MAX_WAL_SIZE}\"\n    echo \"  Min WAL size: ${POSTGRES_MIN_WAL_SIZE}\"\n    echo \"  Checkpoint timeout: ${POSTGRES_CHECKPOINT_TIMEOUT}\"\n    echo \"\"\n    echo \"Logging:\"\n    echo \"  Statement logging: ${POSTGRES_LOG_STATEMENT}\"\n    echo \"  Duration logging: ${POSTGRES_LOG_DURATION}\"\n    echo \"  Connection logging: ${POSTGRES_LOG_CONNECTIONS}\"\n    echo \"\"\n    echo \"Data Directory: ${PGDATA}\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  psql                        Connect to database\"\n    echo \"  flox activate -s            Start PostgreSQL service\"\n    echo \"  flox services status        Check service status\"\n    echo \"  flox services logs postgres View service logs\"\n    echo \"  flox services restart postgres Restart with new settings\"\n}\n\nredis-info() {\n    echo \"Redis (Headless Mode) - Configuration\"\n    echo \"\"\n    echo \"Connection:\"\n    echo \"  Host: ${REDIS_HOST}:${REDIS_PORT}\"\n    if [ -n \"$REDIS_PASSWORD\" ]; then\n        echo \"  Password: ***\"\n    else\n        echo \"  Password: (none)\"\n    fi\n    echo \"  Protected mode: ${REDIS_PROTECTED_MODE}\"\n    echo \"\"\n    echo \"Memory:\"\n    echo \"  Max memory: ${REDIS_MAXMEMORY}\"\n    echo \"  Eviction policy: ${REDIS_MAXMEMORY_POLICY}\"\n    echo \"  Eviction samples: ${REDIS_MAXMEMORY_SAMPLES}\"\n    echo \"\"\n    echo \"Persistence (RDB):\"\n    echo \"  Enabled: ${REDIS_SAVE_RDB}\"\n    if [ \"$REDIS_SAVE_RDB\" = \"yes\" ]; then\n        echo \"  Save after 900s if ${REDIS_SAVE_900}+ changes\"\n        echo \"  Save after 300s if ${REDIS_SAVE_300}+ changes\"\n        echo \"  Save after 60s if ${REDIS_SAVE_60}+ changes\"\n        echo \"  Compression: ${REDIS_RDB_COMPRESSION}\"\n        echo \"  Checksum: ${REDIS_RDB_CHECKSUM}\"\n    fi\n    echo \"\"\n    echo \"Persistence (AOF):\"\n    echo \"  Enabled: ${REDIS_APPENDONLY}\"\n    if [ \"$REDIS_APPENDONLY\" = \"yes\" ]; then\n        echo \"  Fsync policy: ${REDIS_APPENDFSYNC}\"\n        echo \"  Rewrite percentage: ${REDIS_AOF_REWRITE_PERCENTAGE}\"\n        echo \"  Rewrite min size: ${REDIS_AOF_REWRITE_MIN_SIZE}\"\n    fi\n    echo \"\"\n    echo \"Performance:\"\n    echo \"  Databases: ${REDIS_DATABASES}\"\n    echo \"  Max clients: ${REDIS_MAXCLIENTS}\"\n    echo \"  TCP backlog: ${REDIS_TCP_BACKLOG}\"\n    echo \"  Timeout: ${REDIS_TIMEOUT}s\"\n    echo \"  TCP keepalive: ${REDIS_TCP_KEEPALIVE}s\"\n    echo \"\"\n    echo \"Monitoring:\"\n    echo \"  Slow log threshold: ${REDIS_SLOWLOG_LOG_SLOWER_THAN}Î¼s\"\n    echo \"  Slow log max length: ${REDIS_SLOWLOG_MAX_LEN}\"\n    echo \"  Latency monitor threshold: ${REDIS_LATENCY_MONITOR_THRESHOLD}ms\"\n    echo \"\"\n    echo \"Data Directory: ${REDIS_DIR}\"\n    echo \"Config File: ${REDIS_CONF_FILE}\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  redis-cli                       Connect to Redis\"\n    echo \"  flox activate -s                Start Redis service\"\n    echo \"  flox services status            Check service status\"\n    echo \"  flox services logs redis        View service logs\"\n    echo \"  flox services restart redis     Restart with new settings\"\n}\n\nn8n-info() {\n    echo \"n8n Environment Configuration\"\n    echo \"\"\n    echo \"Mode: $EXECUTIONS_MODE\"\n    echo \"Database: $DB_TYPE\"\n    if [ \"$DB_TYPE\" = \"postgresdb\" ]; then\n        echo \"  Host: $DB_POSTGRESDB_HOST:$DB_POSTGRESDB_PORT\"\n        echo \"  Database: $DB_POSTGRESDB_DATABASE\"\n    fi\n    echo \"\"\n    echo \"n8n URL: $N8N_PROTOCOL://$N8N_HOST:$N8N_PORT\"\n\n    if [ \"$N8N_BASIC_AUTH_ACTIVE\" = \"true\" ]; then\n        echo \"Username: $N8N_BASIC_AUTH_USER\"\n        echo \"Password: (set)\"\n    else\n        echo \"Authentication: Disabled\"\n    fi\n\n    if [ \"$EXECUTIONS_MODE\" = \"queue\" ]; then\n        echo \"\"\n        echo \"Queue Mode:\"\n        echo \"  Workers: $QUEUE_WORKERS\"\n        echo \"  Redis: $QUEUE_BULL_REDIS_HOST:$QUEUE_BULL_REDIS_PORT\"\n    fi\n\n    if [ -n \"$WEBHOOK_URL\" ]; then\n        echo \"\"\n        echo \"Webhook URL: $WEBHOOK_URL\"\n    fi\n\n    echo \"\"\n    echo \"Encryption Key: $ENCRYPTION_KEY_FILE\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  flox services status         Check service status\"\n    echo \"  flox services logs n8n-main  View main logs\"\n    echo \"  n8n-reconfigure              Reconfigure environment\"\n}\n\nn8n-reconfigure() {\n    echo \"Use bash shell for reconfiguration:\"\n    echo \"  bash -c 'n8n-reconfigure'\"\n}\n",
      "fish": "function postgres-info\n    echo \"PostgreSQL (Headless Mode) - Configuration\"\n    echo \"\"\n    echo \"Connection:\"\n    echo \"  Listen address: $PGHOSTADDR:$PGPORT\"\n    echo \"  Client connects to: $PGHOST\"\n    echo \"  Database: $PGDATABASE\"\n    echo \"  User: $PGUSER\"\n    echo \"  Auth method: $POSTGRES_HOST_AUTH_METHOD\"\n    echo \"\"\n    echo \"Performance:\"\n    echo \"  Max connections: $POSTGRES_MAX_CONNECTIONS\"\n    echo \"  Shared buffers: $POSTGRES_SHARED_BUFFERS\"\n    echo \"  Work mem: $POSTGRES_WORK_MEM\"\n    echo \"  Effective cache size: $POSTGRES_EFFECTIVE_CACHE_SIZE\"\n    echo \"  fsync: $POSTGRES_FSYNC\"\n    echo \"  Synchronous commit: $POSTGRES_SYNCHRONOUS_COMMIT\"\n    echo \"\"\n    echo \"WAL:\"\n    echo \"  Max WAL size: $POSTGRES_MAX_WAL_SIZE\"\n    echo \"  Min WAL size: $POSTGRES_MIN_WAL_SIZE\"\n    echo \"  Checkpoint timeout: $POSTGRES_CHECKPOINT_TIMEOUT\"\n    echo \"\"\n    echo \"Logging:\"\n    echo \"  Statement logging: $POSTGRES_LOG_STATEMENT\"\n    echo \"  Duration logging: $POSTGRES_LOG_DURATION\"\n    echo \"  Connection logging: $POSTGRES_LOG_CONNECTIONS\"\n    echo \"\"\n    echo \"Data Directory: $PGDATA\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  psql                        Connect to database\"\n    echo \"  flox activate -s            Start PostgreSQL service\"\n    echo \"  flox services status        Check service status\"\n    echo \"  flox services logs postgres View service logs\"\n    echo \"  flox services restart postgres Restart with new settings\"\nend\n\nfunction redis-info\n    echo \"Redis (Headless Mode) - Configuration\"\n    echo \"\"\n    echo \"Connection:\"\n    echo \"  Host: $REDIS_HOST:$REDIS_PORT\"\n    if test -n \"$REDIS_PASSWORD\"\n        echo \"  Password: ***\"\n    else\n        echo \"  Password: (none)\"\n    end\n    echo \"  Protected mode: $REDIS_PROTECTED_MODE\"\n    echo \"\"\n    echo \"Memory:\"\n    echo \"  Max memory: $REDIS_MAXMEMORY\"\n    echo \"  Eviction policy: $REDIS_MAXMEMORY_POLICY\"\n    echo \"  Eviction samples: $REDIS_MAXMEMORY_SAMPLES\"\n    echo \"\"\n    echo \"Persistence (RDB):\"\n    echo \"  Enabled: $REDIS_SAVE_RDB\"\n    if test \"$REDIS_SAVE_RDB\" = \"yes\"\n        echo \"  Save after 900s if $REDIS_SAVE_900+ changes\"\n        echo \"  Save after 300s if $REDIS_SAVE_300+ changes\"\n        echo \"  Save after 60s if $REDIS_SAVE_60+ changes\"\n        echo \"  Compression: $REDIS_RDB_COMPRESSION\"\n        echo \"  Checksum: $REDIS_RDB_CHECKSUM\"\n    end\n    echo \"\"\n    echo \"Persistence (AOF):\"\n    echo \"  Enabled: $REDIS_APPENDONLY\"\n    if test \"$REDIS_APPENDONLY\" = \"yes\"\n        echo \"  Fsync policy: $REDIS_APPENDFSYNC\"\n        echo \"  Rewrite percentage: $REDIS_AOF_REWRITE_PERCENTAGE\"\n        echo \"  Rewrite min size: $REDIS_AOF_REWRITE_MIN_SIZE\"\n    end\n    echo \"\"\n    echo \"Performance:\"\n    echo \"  Databases: $REDIS_DATABASES\"\n    echo \"  Max clients: $REDIS_MAXCLIENTS\"\n    echo \"  TCP backlog: $REDIS_TCP_BACKLOG\"\n    echo \"  Timeout: $REDIS_TIMEOUT\"s\n    echo \"  TCP keepalive: $REDIS_TCP_KEEPALIVE\"s\n    echo \"\"\n    echo \"Monitoring:\"\n    echo \"  Slow log threshold: $REDIS_SLOWLOG_LOG_SLOWER_THAN\"Î¼s\n    echo \"  Slow log max length: $REDIS_SLOWLOG_MAX_LEN\"\n    echo \"  Latency monitor threshold: $REDIS_LATENCY_MONITOR_THRESHOLD\"ms\n    echo \"\"\n    echo \"Data Directory: $REDIS_DIR\"\n    echo \"Config File: $REDIS_CONF_FILE\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  redis-cli                       Connect to Redis\"\n    echo \"  flox activate -s                Start Redis service\"\n    echo \"  flox services status            Check service status\"\n    echo \"  flox services logs redis        View service logs\"\n    echo \"  flox services restart redis     Restart with new settings\"\nend\n\nfunction n8n-info\n    echo \"n8n Environment Configuration\"\n    echo \"\"\n    echo \"Mode: $EXECUTIONS_MODE\"\n    echo \"Database: $DB_TYPE\"\n    if test \"$DB_TYPE\" = \"postgresdb\"\n        echo \"  Host: $DB_POSTGRESDB_HOST:$DB_POSTGRESDB_PORT\"\n        echo \"  Database: $DB_POSTGRESDB_DATABASE\"\n    end\n    echo \"\"\n    echo \"n8n URL: $N8N_PROTOCOL://$N8N_HOST:$N8N_PORT\"\n\n    if test \"$N8N_BASIC_AUTH_ACTIVE\" = \"true\"\n        echo \"Username: $N8N_BASIC_AUTH_USER\"\n        echo \"Password: (set)\"\n    else\n        echo \"Authentication: Disabled\"\n    end\n\n    if test \"$EXECUTIONS_MODE\" = \"queue\"\n        echo \"\"\n        echo \"Queue Mode:\"\n        echo \"  Workers: $QUEUE_WORKERS\"\n        echo \"  Redis: $QUEUE_BULL_REDIS_HOST:$QUEUE_BULL_REDIS_PORT\"\n    end\n\n    if test -n \"$WEBHOOK_URL\"\n        echo \"\"\n        echo \"Webhook URL: $WEBHOOK_URL\"\n    end\n\n    echo \"\"\n    echo \"Encryption Key: $ENCRYPTION_KEY_FILE\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  flox services status         Check service status\"\n    echo \"  flox services logs n8n-main  View main logs\"\nend\n\nfunction n8n-reconfigure\n    echo \"Use bash shell for reconfiguration:\"\n    echo \"  bash -c 'n8n-reconfigure'\"\nend\n"
    },
    "options": {
      "systems": [
        "aarch64-darwin",
        "aarch64-linux",
        "x86_64-darwin",
        "x86_64-linux"
      ]
    },
    "services": {
      "n8n-main": {
        "command": "exec n8n start\n"
      },
      "n8n-worker": {
        "command": "if [ \"$EXECUTIONS_MODE\" = \"queue\" ]; then\n    exec n8n worker\nelse\n    # Not needed in regular mode\n    tail -f /dev/null\nfi\n"
      },
      "postgres": {
        "command": "# Ensure socket directory exists\nmkdir -p \"$PGHOST_SOCKET\"\nchmod 700 \"$PGHOST_SOCKET\"\n\n# Start PostgreSQL with all runtime configuration\nexec postgres -D \"$PGDATA\" \\\n  -c listen_addresses=\"$PGHOSTADDR\" \\\n  -p \"$PGPORT\" \\\n  -c unix_socket_directories=\"$PGHOST_SOCKET\" \\\n  -c unix_socket_permissions=0700 \\\n  ${POSTGRES_MAX_CONNECTIONS:+-c max_connections=\"$POSTGRES_MAX_CONNECTIONS\"} \\\n  ${POSTGRES_SHARED_BUFFERS:+-c shared_buffers=\"$POSTGRES_SHARED_BUFFERS\"} \\\n  ${POSTGRES_WORK_MEM:+-c work_mem=\"$POSTGRES_WORK_MEM\"} \\\n  ${POSTGRES_EFFECTIVE_CACHE_SIZE:+-c effective_cache_size=\"$POSTGRES_EFFECTIVE_CACHE_SIZE\"} \\\n  $([ \"$POSTGRES_FSYNC\" = \"off\" ] && echo \"-c fsync=off\") \\\n  ${POSTGRES_SYNCHRONOUS_COMMIT:+-c synchronous_commit=\"$POSTGRES_SYNCHRONOUS_COMMIT\"} \\\n  ${POSTGRES_FULL_PAGE_WRITES:+-c full_page_writes=\"$POSTGRES_FULL_PAGE_WRITES\"} \\\n  ${POSTGRES_MAX_WAL_SIZE:+-c max_wal_size=\"$POSTGRES_MAX_WAL_SIZE\"} \\\n  ${POSTGRES_MIN_WAL_SIZE:+-c min_wal_size=\"$POSTGRES_MIN_WAL_SIZE\"} \\\n  ${POSTGRES_CHECKPOINT_TIMEOUT:+-c checkpoint_timeout=\"$POSTGRES_CHECKPOINT_TIMEOUT\"} \\\n  ${POSTGRES_LOG_STATEMENT:+-c log_statement=\"$POSTGRES_LOG_STATEMENT\"} \\\n  ${POSTGRES_LOG_DURATION:+-c log_duration=\"$POSTGRES_LOG_DURATION\"} \\\n  ${POSTGRES_LOG_MIN_DURATION:+-c log_min_duration_statement=\"$POSTGRES_LOG_MIN_DURATION\"} \\\n  ${POSTGRES_LOG_CONNECTIONS:+-c log_connections=\"$POSTGRES_LOG_CONNECTIONS\"} \\\n  ${POSTGRES_LOG_DISCONNECTIONS:+-c log_disconnections=\"$POSTGRES_LOG_DISCONNECTIONS\"} \\\n  $POSTGRES_EXTRA_OPTS\n"
      },
      "redis": {
        "command": "redis-server $REDIS_CONF_FILE"
      }
    }
  },
  "packages": [
    {
      "attr_path": "gum",
      "broken": false,
      "derivation": "/nix/store/675k33a7fnqda5p3rn5qjc33ivqrh68q-gum-0.17.0.drv",
      "description": "Tasty Bubble Gum for your shell",
      "install_id": "gum",
      "license": "MIT",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "gum-0.17.0",
      "pname": "gum",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T02:08:16.755997Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "0.17.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/g384sncfvkxfpiswcg01hk6r3z0681ix-gum-0.17.0"
      },
      "system": "aarch64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "gum",
      "broken": false,
      "derivation": "/nix/store/x4gr782ka05mb2gwd2hxlnwrcxxj8m1m-gum-0.17.0.drv",
      "description": "Tasty Bubble Gum for your shell",
      "install_id": "gum",
      "license": "MIT",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "gum-0.17.0",
      "pname": "gum",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T02:18:28.225289Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "0.17.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/vkh7n5a7nhxlv4zzxs1anaqcbpsaakdw-gum-0.17.0"
      },
      "system": "aarch64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "gum",
      "broken": false,
      "derivation": "/nix/store/sz3las4dhlb9xrz4fgw4l5zkss3s3afd-gum-0.17.0.drv",
      "description": "Tasty Bubble Gum for your shell",
      "install_id": "gum",
      "license": "MIT",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "gum-0.17.0",
      "pname": "gum",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T02:29:22.646362Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "0.17.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/j459dmmrrfzia8zgpykkr4fsv0ydrsvg-gum-0.17.0"
      },
      "system": "x86_64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "gum",
      "broken": false,
      "derivation": "/nix/store/m4rq0l39b36z03rq5sb8y5zsid4y09ad-gum-0.17.0.drv",
      "description": "Tasty Bubble Gum for your shell",
      "install_id": "gum",
      "license": "MIT",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "gum-0.17.0",
      "pname": "gum",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T03:00:56.654223Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "0.17.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/bqaqgkwjxdq6vxq210v9893ibmag515f-gum-0.17.0"
      },
      "system": "x86_64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "n8n",
      "broken": false,
      "derivation": "/nix/store/ji81ss453i1n99ga9z76bbjvzqdi4j2l-n8n-1.115.3.drv",
      "description": "Free and source-available fair-code licensed workflow automation tool",
      "install_id": "n8n",
      "license": "SUL-1.0",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "n8n-1.115.3",
      "pname": "n8n",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T02:08:36.207521Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": true,
      "version": "1.115.3",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/782sab57knxc7gz51hzzibh495gk4vc3-n8n-1.115.3"
      },
      "system": "aarch64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "n8n",
      "broken": false,
      "derivation": "/nix/store/bgd4x7vbpwq917n4cl42naxagzfc74aj-n8n-1.115.3.drv",
      "description": "Free and source-available fair-code licensed workflow automation tool",
      "install_id": "n8n",
      "license": "SUL-1.0",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "n8n-1.115.3",
      "pname": "n8n",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T02:19:00.114086Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": true,
      "version": "1.115.3",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/33pmwlsdvd2h7dz2x5f4wmh2yk540gxb-n8n-1.115.3"
      },
      "system": "aarch64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "n8n",
      "broken": false,
      "derivation": "/nix/store/wwp4423kzy106fnin3rrlmnxdnlrvf3x-n8n-1.115.3.drv",
      "description": "Free and source-available fair-code licensed workflow automation tool",
      "install_id": "n8n",
      "license": "SUL-1.0",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "n8n-1.115.3",
      "pname": "n8n",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T02:29:42.004848Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": true,
      "version": "1.115.3",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/9j51rbk7095id8zvxawphqh9dzk9m5sy-n8n-1.115.3"
      },
      "system": "x86_64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "n8n",
      "broken": false,
      "derivation": "/nix/store/giv6i59qmf1vkbzc2zg8qm59fd5xkg5k-n8n-1.115.3.drv",
      "description": "Free and source-available fair-code licensed workflow automation tool",
      "install_id": "n8n",
      "license": "SUL-1.0",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "n8n-1.115.3",
      "pname": "n8n",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T03:01:32.257798Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": true,
      "version": "1.115.3",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/kdhj8awph9177r9gjmaszk26y90awmq6-n8n-1.115.3"
      },
      "system": "x86_64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "postgresql16Packages.postgis",
      "broken": false,
      "derivation": "/nix/store/0xd2virvis2qs63j8w6c3f6w5j9q629z-postgis-3.6.0.drv",
      "description": "Geographic Objects for PostgreSQL",
      "install_id": "postgis",
      "license": "GPL-2.0-or-later",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "postgis-3.6.0",
      "pname": "postgis",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T02:08:52.751485Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "3.6.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "doc": "/nix/store/jxmlizb6ni1q0886cbi3iqj4jzd5n54k-postgis-3.6.0-doc",
        "out": "/nix/store/sg3kig34ajpa91pijqj4prh0gwrrgjpn-postgis-3.6.0"
      },
      "system": "aarch64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "postgresql16Packages.postgis",
      "broken": false,
      "derivation": "/nix/store/ar4rm8vyzjrdwad4pszlv4rz7abj7h93-postgis-3.6.0.drv",
      "description": "Geographic Objects for PostgreSQL",
      "install_id": "postgis",
      "license": "GPL-2.0-or-later",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "postgis-3.6.0",
      "pname": "postgis",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T02:19:24.577354Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "3.6.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "doc": "/nix/store/7kwkimw8iaashdlh85cn6x1afix798d8-postgis-3.6.0-doc",
        "out": "/nix/store/927xn6kvp3qbmngzpvaghlxd88ccwkh4-postgis-3.6.0"
      },
      "system": "aarch64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "postgresql16Packages.postgis",
      "broken": false,
      "derivation": "/nix/store/ap7v6sq19ivvdnpacf35dq0bkh0wrz8a-postgis-3.6.0.drv",
      "description": "Geographic Objects for PostgreSQL",
      "install_id": "postgis",
      "license": "GPL-2.0-or-later",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "postgis-3.6.0",
      "pname": "postgis",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T02:29:58.312258Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "3.6.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "doc": "/nix/store/8djk8yrfjy564f0sz7wx3gjb0269d9qz-postgis-3.6.0-doc",
        "out": "/nix/store/lhz71cr3v5h281254iyjjc502wqzhzhj-postgis-3.6.0"
      },
      "system": "x86_64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "postgresql16Packages.postgis",
      "broken": false,
      "derivation": "/nix/store/9sm0vv7d6kjkprbhpj98q7f65rl3f810-postgis-3.6.0.drv",
      "description": "Geographic Objects for PostgreSQL",
      "install_id": "postgis",
      "license": "GPL-2.0-or-later",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "postgis-3.6.0",
      "pname": "postgis",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T03:01:57.491221Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "3.6.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "doc": "/nix/store/jy476kp6aaw6rys2z5ckrkqrci57gl42-postgis-3.6.0-doc",
        "out": "/nix/store/zn5662g4rdsc4xv98d3kd24dnjvsgwp0-postgis-3.6.0"
      },
      "system": "x86_64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "postgresql_16",
      "broken": false,
      "derivation": "/nix/store/26ds0iw7vbvdi21gavr1w17zi9wjdslz-postgresql-16.10.drv",
      "description": "Powerful, open source object-relational database system",
      "install_id": "postgresql",
      "license": "PostgreSQL",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "postgresql-16.10",
      "pname": "postgresql_16",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T02:08:53.131109Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "16.10",
      "outputs_to_install": [
        "man",
        "out"
      ],
      "outputs": {
        "dev": "/nix/store/9b0x64bwjwv5fz0bdv6w1s4mm7960dk2-postgresql-16.10-dev",
        "doc": "/nix/store/rivqz9k4x942kncpiqa11952vz2yd83w-postgresql-16.10-doc",
        "jit": "/nix/store/5ma1iibg7rrhr9vk4lgmj4wsds1bn2lq-postgresql-16.10-jit",
        "lib": "/nix/store/zyry2aqhcrjy6034l53fj2x6p3nbsirc-postgresql-16.10-lib",
        "man": "/nix/store/19yczwkx2ghpc48h12svzwvdmai43h1d-postgresql-16.10-man",
        "out": "/nix/store/mjj1ad4p7mhplvqkxir9irbwgncjna8k-postgresql-16.10",
        "plperl": "/nix/store/k39hh30nj46s748y4x4zgdqavzmwg8l2-postgresql-16.10-plperl",
        "plpython3": "/nix/store/0yrlydpg6v0pwyj8w9dxa473s7g0kk1a-postgresql-16.10-plpython3",
        "pltcl": "/nix/store/s59v3p5kpjm6vp0jg03l8ksnacg0vas5-postgresql-16.10-pltcl"
      },
      "system": "aarch64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "postgresql_16",
      "broken": false,
      "derivation": "/nix/store/wsr7k2di2xchkl1sbhgxxalx5vi0nmm8-postgresql-16.10.drv",
      "description": "Powerful, open source object-relational database system",
      "install_id": "postgresql",
      "license": "PostgreSQL",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "postgresql-16.10",
      "pname": "postgresql_16",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T02:19:25.105357Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "16.10",
      "outputs_to_install": [
        "man",
        "out"
      ],
      "outputs": {
        "debug": "/nix/store/9snr8kwq5mgs99lfrrra84pga7rj028l-postgresql-16.10-debug",
        "dev": "/nix/store/id2zxdz68yin7ipd5wxsbqrdxnl7dh12-postgresql-16.10-dev",
        "doc": "/nix/store/ab963h9ffkcix3dyli05ayxvrnd5018c-postgresql-16.10-doc",
        "jit": "/nix/store/6xb72z48dbd93sv72nlskcq8661hmnzi-postgresql-16.10-jit",
        "lib": "/nix/store/6vv2r1hfn5v53chb7w35sm91w42f52lx-postgresql-16.10-lib",
        "man": "/nix/store/mdyaig3jd7js0rhs50m7d2gjlpwp46d5-postgresql-16.10-man",
        "out": "/nix/store/589gil3s8fd4wdnf8drdgjqsfd0xk5pr-postgresql-16.10",
        "plperl": "/nix/store/71hqwmvp84nalfvqmz9mzxs9pc7c3z6x-postgresql-16.10-plperl",
        "plpython3": "/nix/store/nl1cp5sad17p4l74mkiv1krcm7yybhwr-postgresql-16.10-plpython3",
        "pltcl": "/nix/store/s7phbpyzyq2wjmqvm9ylq4xmfr9plrhg-postgresql-16.10-pltcl"
      },
      "system": "aarch64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "postgresql_16",
      "broken": false,
      "derivation": "/nix/store/fph4lw6vr6zqm8x0lv8p5pndvx0c7blv-postgresql-16.10.drv",
      "description": "Powerful, open source object-relational database system",
      "install_id": "postgresql",
      "license": "PostgreSQL",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "postgresql-16.10",
      "pname": "postgresql_16",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T02:29:58.699506Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "16.10",
      "outputs_to_install": [
        "man",
        "out"
      ],
      "outputs": {
        "dev": "/nix/store/rml3rv4slkxc46a0f0xbbbxz53w48alp-postgresql-16.10-dev",
        "doc": "/nix/store/abm0srgai0ha2kfr191cp55y0jnnv17q-postgresql-16.10-doc",
        "jit": "/nix/store/12qd19cs7jzwfwbha3d21ml9kymhsw8q-postgresql-16.10-jit",
        "lib": "/nix/store/8k2kfah4659xhwdg263214kyznci73ra-postgresql-16.10-lib",
        "man": "/nix/store/3immiw548rhphj9lzpk13p859cy3wwx4-postgresql-16.10-man",
        "out": "/nix/store/f7n0d7idv9pdja404afxik5r6b9a669x-postgresql-16.10",
        "plperl": "/nix/store/j1m4qap45swww3xk1xxknrgjp634r559-postgresql-16.10-plperl",
        "plpython3": "/nix/store/3a8i3dwwwz3amxr0pf1f0qs49f56aggb-postgresql-16.10-plpython3",
        "pltcl": "/nix/store/ls0pc2m0s68bp5cicwnipard7hqvq7dy-postgresql-16.10-pltcl"
      },
      "system": "x86_64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "postgresql_16",
      "broken": false,
      "derivation": "/nix/store/n5aazj0i4l44nb52k5sqzpananvs7fdl-postgresql-16.10.drv",
      "description": "Powerful, open source object-relational database system",
      "install_id": "postgresql",
      "license": "PostgreSQL",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "postgresql-16.10",
      "pname": "postgresql_16",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T03:01:58.028544Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "16.10",
      "outputs_to_install": [
        "man",
        "out"
      ],
      "outputs": {
        "debug": "/nix/store/1bckzc3hq35dwl1qf5c76w53c992dsr9-postgresql-16.10-debug",
        "dev": "/nix/store/skrx4qah0hy1c3l79znsfza5zzqrxcyn-postgresql-16.10-dev",
        "doc": "/nix/store/cz4w41bdfnjg4mqfcmw1x0p4jgg61kac-postgresql-16.10-doc",
        "jit": "/nix/store/2805lajnhh7qd3acb0abyvpm91hn59fw-postgresql-16.10-jit",
        "lib": "/nix/store/qsn1yfq2cfy03rj4xmaf0g5wybmak6qq-postgresql-16.10-lib",
        "man": "/nix/store/flpax8rjcj5niv0krcfx8nz4gm64n81c-postgresql-16.10-man",
        "out": "/nix/store/8lfn9a2a2c16fa2ia7j5yp03pymgmbv1-postgresql-16.10",
        "plperl": "/nix/store/1ivj0kb6gyzzgdy49g312rm3wdllgkfw-postgresql-16.10-plperl",
        "plpython3": "/nix/store/bd9rs52j0lrhp6hrr68vn27gi17f11v8-postgresql-16.10-plpython3",
        "pltcl": "/nix/store/iszsfbryiqfd7z2fk4pfh02c2g41r9h4-postgresql-16.10-pltcl"
      },
      "system": "x86_64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "redis",
      "broken": false,
      "derivation": "/nix/store/40813pbibs4x5dvxs58gzv8132ijr1sn-redis-8.2.2.drv",
      "description": "Open source, advanced key-value store",
      "install_id": "redis",
      "license": "AGPL-3.0-only",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "redis-8.2.2",
      "pname": "redis",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T02:09:38.538876Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "8.2.2",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/098ag56hpj05yi1a0lc5h3dabbjcak47-redis-8.2.2"
      },
      "system": "aarch64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "redis",
      "broken": false,
      "derivation": "/nix/store/vdjv3ma7n6fgdyi1jxqih23c80bry679-redis-8.2.2.drv",
      "description": "Open source, advanced key-value store",
      "install_id": "redis",
      "license": "AGPL-3.0-only",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "redis-8.2.2",
      "pname": "redis",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T02:20:26.914059Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "8.2.2",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/76fkv3lj81582lxgcpz2c5qai4dbsy7s-redis-8.2.2"
      },
      "system": "aarch64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "redis",
      "broken": false,
      "derivation": "/nix/store/iad8zh6gvaxi99yqc7kn5arnl6fy75p3-redis-8.2.2.drv",
      "description": "Open source, advanced key-value store",
      "install_id": "redis",
      "license": "AGPL-3.0-only",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "redis-8.2.2",
      "pname": "redis",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T02:30:42.731222Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "8.2.2",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/jlfys7wmr257l75dsz4x0va0wp6agmyr-redis-8.2.2"
      },
      "system": "x86_64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "redis",
      "broken": false,
      "derivation": "/nix/store/csnzbhfjmkc934l5jbqx3653hfi8sxbi-redis-8.2.2.drv",
      "description": "Open source, advanced key-value store",
      "install_id": "redis",
      "license": "AGPL-3.0-only",
      "locked_url": "https://github.com/flox/nixpkgs?rev=6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "name": "redis-8.2.2",
      "pname": "redis",
      "rev": "6a08e6bb4e46ff7fcbb53d409b253f6bad8a28ce",
      "rev_count": 883951,
      "rev_date": "2025-10-25T06:24:58Z",
      "scrape_date": "2025-10-27T03:02:59.796166Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "8.2.2",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/cmxzhc1q1dw301l5iwbjn3kx96vpj5am-redis-8.2.2"
      },
      "system": "x86_64-linux",
      "group": "toplevel",
      "priority": 5
    }
  ],
  "compose": {
    "composer": {
      "version": 1,
      "install": {
        "gum": {
          "pkg-path": "gum"
        },
        "n8n": {
          "pkg-path": "n8n"
        }
      },
      "vars": {
        "N8N_CONFIG_DIR": "$FLOX_ENV_CACHE/n8n-config",
        "N8N_DATA_DIR": "$FLOX_ENV_CACHE/n8n-data",
        "N8N_LOG_DIR": "$FLOX_ENV_CACHE/n8n-logs"
      },
      "hook": {
        "on-activate": "# Create required directories\nmkdir -p \"$FLOX_ENV_CACHE/n8n-config\"\nmkdir -p \"$FLOX_ENV_CACHE/n8n-logs\"\nmkdir -p \"$FLOX_ENV_CACHE/n8n-data\"\n\nexport CONFIG_FILE=\"${FLOX_ENV_CACHE}/n8n.config\"\nexport ENCRYPTION_KEY_FILE=\"$FLOX_ENV_CACHE/n8n-encryption.key\"\n\n# Default values\nexport DEFAULT_DB_TYPE=\"postgresdb\"\nexport DEFAULT_DB_HOST=\"localhost\"\nexport DEFAULT_DB_PORT=\"5432\"\nexport DEFAULT_DB_DATABASE=\"n8n\"\nexport DEFAULT_DB_USER=\"postgres\"\nexport DEFAULT_DB_PASSWORD=\"postgres\"\nexport DEFAULT_N8N_HOST=\"localhost\"\nexport DEFAULT_N8N_PORT=\"5678\"\nexport DEFAULT_N8N_PROTOCOL=\"http\"\nexport DEFAULT_EXECUTIONS_MODE=\"regular\"\nexport DEFAULT_BASIC_AUTH=\"true\"\nexport DEFAULT_BASIC_AUTH_USER=\"admin\"\nexport DEFAULT_BASIC_AUTH_PASSWORD=\"admin\"\nexport DEFAULT_REDIS_HOST=\"127.0.0.1\"\nexport DEFAULT_REDIS_PORT=\"16379\"\nexport DEFAULT_QUEUE_WORKERS=\"1\"\n\n# Check if first run\ncheck_first_run() {\n    if [[ ! -f \"$CONFIG_FILE\" ]]; then\n        return 0 # True, first run\n    else\n        return 1 # False, not first run\n    fi\n}\n\n# Load configuration\nload_config() {\n    if [[ -f \"$CONFIG_FILE\" ]]; then\n        source \"$CONFIG_FILE\"\n    else\n        # Set defaults\n        export DB_TYPE=\"$DEFAULT_DB_TYPE\"\n        export DB_POSTGRESDB_HOST=\"$DEFAULT_DB_HOST\"\n        export DB_POSTGRESDB_PORT=\"$DEFAULT_DB_PORT\"\n        export DB_POSTGRESDB_DATABASE=\"$DEFAULT_DB_DATABASE\"\n        export DB_POSTGRESDB_USER=\"$DEFAULT_DB_USER\"\n        export DB_POSTGRESDB_PASSWORD=\"$DEFAULT_DB_PASSWORD\"\n        export N8N_HOST=\"$DEFAULT_N8N_HOST\"\n        export N8N_PORT=\"$DEFAULT_N8N_PORT\"\n        export N8N_PROTOCOL=\"$DEFAULT_N8N_PROTOCOL\"\n        export EXECUTIONS_MODE=\"$DEFAULT_EXECUTIONS_MODE\"\n        export N8N_BASIC_AUTH_ACTIVE=\"$DEFAULT_BASIC_AUTH\"\n        export N8N_BASIC_AUTH_USER=\"$DEFAULT_BASIC_AUTH_USER\"\n        export N8N_BASIC_AUTH_PASSWORD=\"$DEFAULT_BASIC_AUTH_PASSWORD\"\n        export QUEUE_BULL_REDIS_HOST=\"$DEFAULT_REDIS_HOST\"\n        export QUEUE_BULL_REDIS_PORT=\"$DEFAULT_REDIS_PORT\"\n        export QUEUE_WORKERS=\"$DEFAULT_QUEUE_WORKERS\"\n        export WEBHOOK_URL=\"\"\n    fi\n}\n\n# Ensure encryption key exists\nensure_encryption_key() {\n    if [ -f \"$ENCRYPTION_KEY_FILE\" ]; then\n        export N8N_ENCRYPTION_KEY=$(cat \"$ENCRYPTION_KEY_FILE\")\n    else\n        export N8N_ENCRYPTION_KEY=$(openssl rand -hex 32)\n        echo \"$N8N_ENCRYPTION_KEY\" > \"$ENCRYPTION_KEY_FILE\"\n        chmod 600 \"$ENCRYPTION_KEY_FILE\"\n        echo \"\"\n        gum style --foreground 208 \"âš ï¸  Encryption key generated and saved to:\"\n        echo \"   $ENCRYPTION_KEY_FILE\"\n        echo \"\"\n        gum style --foreground 196 --bold \"ðŸ”’ CRITICAL: Back up this file!\"\n        echo \"   Without it, stored credentials are unrecoverable.\"\n        echo \"\"\n    fi\n}\n\n# Save configuration\nsave_config() {\n    mkdir -p \"$(dirname \"$CONFIG_FILE\")\"\n    cat > \"$CONFIG_FILE\" << EOF\n# n8n configuration - Generated on $(date)\nexport DB_TYPE=\"$DB_TYPE\"\nexport DB_POSTGRESDB_HOST=\"$DB_POSTGRESDB_HOST\"\nexport DB_POSTGRESDB_PORT=\"$DB_POSTGRESDB_PORT\"\nexport DB_POSTGRESDB_DATABASE=\"$DB_POSTGRESDB_DATABASE\"\nexport DB_POSTGRESDB_USER=\"$DB_POSTGRESDB_USER\"\nexport DB_POSTGRESDB_PASSWORD=\"$DB_POSTGRESDB_PASSWORD\"\nexport N8N_HOST=\"$N8N_HOST\"\nexport N8N_PORT=\"$N8N_PORT\"\nexport N8N_PROTOCOL=\"$N8N_PROTOCOL\"\nexport EXECUTIONS_MODE=\"$EXECUTIONS_MODE\"\nexport N8N_BASIC_AUTH_ACTIVE=\"$N8N_BASIC_AUTH_ACTIVE\"\nexport N8N_BASIC_AUTH_USER=\"$N8N_BASIC_AUTH_USER\"\nexport N8N_BASIC_AUTH_PASSWORD=\"$N8N_BASIC_AUTH_PASSWORD\"\nexport QUEUE_BULL_REDIS_HOST=\"$QUEUE_BULL_REDIS_HOST\"\nexport QUEUE_BULL_REDIS_PORT=\"$QUEUE_BULL_REDIS_PORT\"\nexport QUEUE_WORKERS=\"$QUEUE_WORKERS\"\nexport WEBHOOK_URL=\"$WEBHOOK_URL\"\nEOF\n    chmod 644 \"$CONFIG_FILE\"\n}\n\n# Prompt for configuration\nprompt_for_config() {\n    gum style --border double --padding \"1 2\" --border-foreground 212 \"\n    ðŸŽ¯ n8n Configuration Wizard\n    \"\n\n    echo \"\"\n    gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n    gum style --foreground 33 --bold \"ðŸ“Š Database Configuration\"\n    gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n    echo \"\"\n\n    DB_TYPE=$(gum choose --header \"Select database:\" \"PostgreSQL (recommended)\" \"SQLite (development only)\")\n\n    if [[ \"$DB_TYPE\" == \"PostgreSQL (recommended)\" ]]; then\n        export DB_TYPE=\"postgresdb\"\n\n        gum style --foreground 240 \"PostgreSQL settings (uses composed postgres-headless):\"\n        echo \"\"\n\n        DB_POSTGRESDB_HOST=$(gum input --placeholder \"$DEFAULT_DB_HOST\" --value \"$DEFAULT_DB_HOST\" --prompt \"Host: \")\n        DB_POSTGRESDB_PORT=$(gum input --placeholder \"$DEFAULT_DB_PORT\" --value \"$DEFAULT_DB_PORT\" --prompt \"Port: \")\n        DB_POSTGRESDB_DATABASE=$(gum input --placeholder \"$DEFAULT_DB_DATABASE\" --value \"$DEFAULT_DB_DATABASE\" --prompt \"Database: \")\n        DB_POSTGRESDB_USER=$(gum input --placeholder \"$DEFAULT_DB_USER\" --value \"$DEFAULT_DB_USER\" --prompt \"Username: \")\n        DB_POSTGRESDB_PASSWORD=$(gum input --placeholder \"$DEFAULT_DB_PASSWORD\" --value \"$DEFAULT_DB_PASSWORD\" --prompt \"Password: \" --password)\n\n        export DB_POSTGRESDB_HOST DB_POSTGRESDB_PORT DB_POSTGRESDB_DATABASE\n        export DB_POSTGRESDB_USER DB_POSTGRESDB_PASSWORD\n    else\n        export DB_TYPE=\"sqlite\"\n        gum style --foreground 208 \"âš ï¸  SQLite is NOT recommended for production\"\n    fi\n\n    echo \"\"\n    gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n    gum style --foreground 33 --bold \"ðŸ” Security Configuration\"\n    gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n    echo \"\"\n\n    if gum confirm \"Enable basic authentication?\" --default=true; then\n        export N8N_BASIC_AUTH_ACTIVE=\"true\"\n        N8N_BASIC_AUTH_USER=$(gum input --placeholder \"$DEFAULT_BASIC_AUTH_USER\" --value \"$DEFAULT_BASIC_AUTH_USER\" --prompt \"Username: \")\n        N8N_BASIC_AUTH_PASSWORD=$(gum input --placeholder \"$DEFAULT_BASIC_AUTH_PASSWORD\" --value \"$DEFAULT_BASIC_AUTH_PASSWORD\" --prompt \"Password: \" --password)\n        export N8N_BASIC_AUTH_USER N8N_BASIC_AUTH_PASSWORD\n    else\n        export N8N_BASIC_AUTH_ACTIVE=\"false\"\n        gum style --foreground 208 \"âš ï¸  Authentication disabled - not recommended\"\n    fi\n\n    echo \"\"\n    gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n    gum style --foreground 33 --bold \"ðŸ“¡ Webhook Configuration\"\n    gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n    echo \"\"\n\n    gum style --foreground 240 \"Webhooks require public URLs (e.g., via ngrok)\"\n    echo \"\"\n\n    if gum confirm \"Configure webhook tunnel URL?\" --default=false; then\n        WEBHOOK_URL=$(gum input --placeholder \"https://xyz.ngrok.io\" --prompt \"Webhook URL: \")\n        export WEBHOOK_URL\n    else\n        export WEBHOOK_URL=\"\"\n    fi\n\n    echo \"\"\n    gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n    gum style --foreground 33 --bold \"âš™ï¸  Queue Mode (for scaling)\"\n    gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n    echo \"\"\n\n    gum style --foreground 240 \"Queue mode uses Redis for distributed execution\"\n    echo \"\"\n\n    if gum confirm \"Enable queue mode?\" --default=false; then\n        export EXECUTIONS_MODE=\"queue\"\n        QUEUE_WORKERS=$(gum input --placeholder \"$DEFAULT_QUEUE_WORKERS\" --value \"$DEFAULT_QUEUE_WORKERS\" --prompt \"Number of workers: \")\n        export QUEUE_WORKERS\n\n        gum style --foreground 240 \"Redis settings (uses composed redis-headless):\"\n        echo \"\"\n        QUEUE_BULL_REDIS_HOST=$(gum input --placeholder \"$DEFAULT_REDIS_HOST\" --value \"$DEFAULT_REDIS_HOST\" --prompt \"Redis Host: \")\n        QUEUE_BULL_REDIS_PORT=$(gum input --placeholder \"$DEFAULT_REDIS_PORT\" --value \"$DEFAULT_REDIS_PORT\" --prompt \"Redis Port: \")\n        export QUEUE_BULL_REDIS_HOST QUEUE_BULL_REDIS_PORT\n    else\n        export EXECUTIONS_MODE=\"regular\"\n        export QUEUE_WORKERS=\"0\"\n    fi\n\n    # n8n host/port\n    export N8N_HOST=\"$DEFAULT_N8N_HOST\"\n    export N8N_PORT=\"$DEFAULT_N8N_PORT\"\n    export N8N_PROTOCOL=\"$DEFAULT_N8N_PROTOCOL\"\n}\n\n# Initialize n8n\ninitialize_n8n() {\n    export N8N_USER_FOLDER=\"$N8N_DATA_DIR\"\n\n    # n8n auto-initializes on first start\n    # Just ensure encryption key is set\n    ensure_encryption_key\n\n    # Additional env vars\n    export QUEUE_HEALTH_CHECK_ACTIVE=\"true\"\n\n    if [ -n \"$WEBHOOK_URL\" ]; then\n        export WEBHOOK_TUNNEL_URL=\"$WEBHOOK_URL\"\n    fi\n}\n\n# First run setup\nfirst_run_setup() {\n    gum style --border double --padding \"1 2\" --border-foreground 212 \"\n    ðŸš€ Welcome to n8n!\n\n    Let's configure your workflow automation environment.\n    \"\n    echo \"\"\n\n    prompt_for_config\n\n    echo \"\"\n    gum style --foreground 46 \"âœ… Configuration complete!\"\n    echo \"\"\n\n    save_config\n    initialize_n8n\n}\n\n# Display info\ndisplay_n8n_info() {\n    echo \"\"\n    gum style --border double --padding \"1 2\" --border-foreground 212 \"\n    âœ… n8n Environment Ready\n    \"\n    echo \"\"\n\n    echo \"Mode: $EXECUTIONS_MODE\"\n    echo \"Database: $DB_TYPE\"\n    if [ \"$DB_TYPE\" = \"postgresdb\" ]; then\n        echo \"  Host: $DB_POSTGRESDB_HOST:$DB_POSTGRESDB_PORT\"\n        echo \"  Database: $DB_POSTGRESDB_DATABASE\"\n    fi\n    echo \"\"\n    echo \"n8n URL: $N8N_PROTOCOL://$N8N_HOST:$N8N_PORT\"\n\n    if [ \"$N8N_BASIC_AUTH_ACTIVE\" = \"true\" ]; then\n        echo \"Username: $N8N_BASIC_AUTH_USER\"\n        echo \"Password: $N8N_BASIC_AUTH_PASSWORD\"\n    else\n        echo \"âš ï¸  Authentication: Disabled\"\n    fi\n\n    if [ \"$EXECUTIONS_MODE\" = \"queue\" ]; then\n        echo \"\"\n        echo \"Queue Mode:\"\n        echo \"  Workers: $QUEUE_WORKERS\"\n        echo \"  Redis: $QUEUE_BULL_REDIS_HOST:$QUEUE_BULL_REDIS_PORT\"\n    fi\n\n    if [ -n \"$WEBHOOK_URL\" ]; then\n        echo \"\"\n        echo \"Webhook URL: $WEBHOOK_URL\"\n    fi\n\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  flox activate -s     Start n8n services\"\n    echo \"  n8n-info             Show configuration\"\n    echo \"  n8n-reconfigure      Reconfigure environment\"\n    echo \"\"\n}\n\n# Main execution\nmain() {\n    if check_first_run; then\n        first_run_setup\n    else\n        load_config\n        ensure_encryption_key\n        initialize_n8n\n    fi\n\n    display_n8n_info\n\n    cd \"$FLOX_ENV_PROJECT\"\n}\n\nmain\n"
      },
      "profile": {
        "bash": "n8n-info() {\n    echo \"n8n Environment Configuration\"\n    echo \"\"\n    echo \"Mode: $EXECUTIONS_MODE\"\n    echo \"Database: $DB_TYPE\"\n    if [ \"$DB_TYPE\" = \"postgresdb\" ]; then\n        echo \"  Host: $DB_POSTGRESDB_HOST:$DB_POSTGRESDB_PORT\"\n        echo \"  Database: $DB_POSTGRESDB_DATABASE\"\n    fi\n    echo \"\"\n    echo \"n8n URL: $N8N_PROTOCOL://$N8N_HOST:$N8N_PORT\"\n\n    if [ \"$N8N_BASIC_AUTH_ACTIVE\" = \"true\" ]; then\n        echo \"Username: $N8N_BASIC_AUTH_USER\"\n        echo \"Password: (set)\"\n    else\n        echo \"Authentication: Disabled\"\n    fi\n\n    if [ \"$EXECUTIONS_MODE\" = \"queue\" ]; then\n        echo \"\"\n        echo \"Queue Mode:\"\n        echo \"  Workers: $QUEUE_WORKERS\"\n        echo \"  Redis: $QUEUE_BULL_REDIS_HOST:$QUEUE_BULL_REDIS_PORT\"\n    fi\n\n    if [ -n \"$WEBHOOK_URL\" ]; then\n        echo \"\"\n        echo \"Webhook URL: $WEBHOOK_URL\"\n    fi\n\n    echo \"\"\n    echo \"Encryption Key: $ENCRYPTION_KEY_FILE\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  flox services status         Check service status\"\n    echo \"  flox services logs n8n-main  View main logs\"\n    echo \"  n8n-reconfigure              Reconfigure environment\"\n}\nexport -f n8n-info\n\nn8n-reconfigure() {\n    echo \"Reconfiguring n8n environment...\"\n    echo \"\"\n\n    # Backup old config\n    if [ -f \"$CONFIG_FILE\" ]; then\n        cp \"$CONFIG_FILE\" \"$CONFIG_FILE.backup\"\n        echo \"âœ… Backed up old configuration\"\n    fi\n\n    # Re-run configuration wizard\n    source \"$CONFIG_FILE\"\n\n    prompt_for_config() {\n        gum style --border double --padding \"1 2\" --border-foreground 212 \"\n        ðŸ”§ Reconfigure n8n\n        \"\n        echo \"\"\n\n        # Copy the prompt logic from hook\n        gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n        gum style --foreground 33 --bold \"ðŸ“Š Database Configuration\"\n        gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n        echo \"\"\n\n        DB_TYPE=$(gum choose --header \"Select database:\" \"PostgreSQL (recommended)\" \"SQLite (development only)\")\n\n        if [[ \"$DB_TYPE\" == \"PostgreSQL (recommended)\" ]]; then\n            export DB_TYPE=\"postgresdb\"\n\n            gum style --foreground 240 \"PostgreSQL settings:\"\n            echo \"\"\n\n            DB_POSTGRESDB_HOST=$(gum input --placeholder \"$DB_POSTGRESDB_HOST\" --value \"$DB_POSTGRESDB_HOST\" --prompt \"Host: \")\n            DB_POSTGRESDB_PORT=$(gum input --placeholder \"$DB_POSTGRESDB_PORT\" --value \"$DB_POSTGRESDB_PORT\" --prompt \"Port: \")\n            DB_POSTGRESDB_DATABASE=$(gum input --placeholder \"$DB_POSTGRESDB_DATABASE\" --value \"$DB_POSTGRESDB_DATABASE\" --prompt \"Database: \")\n            DB_POSTGRESDB_USER=$(gum input --placeholder \"$DB_POSTGRESDB_USER\" --value \"$DB_POSTGRESDB_USER\" --prompt \"Username: \")\n            DB_POSTGRESDB_PASSWORD=$(gum input --placeholder \"$DB_POSTGRESDB_PASSWORD\" --value \"$DB_POSTGRESDB_PASSWORD\" --prompt \"Password: \" --password)\n\n            export DB_POSTGRESDB_HOST DB_POSTGRESDB_PORT DB_POSTGRESDB_DATABASE\n            export DB_POSTGRESDB_USER DB_POSTGRESDB_PASSWORD\n        else\n            export DB_TYPE=\"sqlite\"\n        fi\n\n        echo \"\"\n        gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n        gum style --foreground 33 --bold \"ðŸ” Security Configuration\"\n        gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n        echo \"\"\n\n        if gum confirm \"Enable basic authentication?\" --default=true; then\n            export N8N_BASIC_AUTH_ACTIVE=\"true\"\n            N8N_BASIC_AUTH_USER=$(gum input --placeholder \"$N8N_BASIC_AUTH_USER\" --value \"$N8N_BASIC_AUTH_USER\" --prompt \"Username: \")\n            N8N_BASIC_AUTH_PASSWORD=$(gum input --placeholder \"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\" --prompt \"Password: \" --password)\n            export N8N_BASIC_AUTH_USER N8N_BASIC_AUTH_PASSWORD\n        else\n            export N8N_BASIC_AUTH_ACTIVE=\"false\"\n        fi\n\n        echo \"\"\n        gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n        gum style --foreground 33 --bold \"ðŸ“¡ Webhook Configuration\"\n        gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n        echo \"\"\n\n        if gum confirm \"Configure webhook tunnel URL?\" --default=false; then\n            WEBHOOK_URL=$(gum input --placeholder \"$WEBHOOK_URL\" --value \"$WEBHOOK_URL\" --prompt \"Webhook URL: \")\n            export WEBHOOK_URL\n        else\n            export WEBHOOK_URL=\"\"\n        fi\n\n        echo \"\"\n        gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n        gum style --foreground 33 --bold \"âš™ï¸  Queue Mode\"\n        gum style --foreground 33 --bold \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\"\n        echo \"\"\n\n        if gum confirm \"Enable queue mode?\" --default=false; then\n            export EXECUTIONS_MODE=\"queue\"\n            QUEUE_WORKERS=$(gum input --placeholder \"$QUEUE_WORKERS\" --value \"$QUEUE_WORKERS\" --prompt \"Number of workers: \")\n            export QUEUE_WORKERS\n\n            QUEUE_BULL_REDIS_HOST=$(gum input --placeholder \"$QUEUE_BULL_REDIS_HOST\" --value \"$QUEUE_BULL_REDIS_HOST\" --prompt \"Redis Host: \")\n            QUEUE_BULL_REDIS_PORT=$(gum input --placeholder \"$QUEUE_BULL_REDIS_PORT\" --value \"$QUEUE_BULL_REDIS_PORT\" --prompt \"Redis Port: \")\n            export QUEUE_BULL_REDIS_HOST QUEUE_BULL_REDIS_PORT\n        else\n            export EXECUTIONS_MODE=\"regular\"\n            export QUEUE_WORKERS=\"0\"\n        fi\n    }\n\n    prompt_for_config\n\n    # Save new configuration\n    save_config() {\n        mkdir -p \"$(dirname \"$CONFIG_FILE\")\"\n        cat > \"$CONFIG_FILE\" << EOF\n# n8n configuration - Generated on $(date)\nexport DB_TYPE=\"$DB_TYPE\"\nexport DB_POSTGRESDB_HOST=\"$DB_POSTGRESDB_HOST\"\nexport DB_POSTGRESDB_PORT=\"$DB_POSTGRESDB_PORT\"\nexport DB_POSTGRESDB_DATABASE=\"$DB_POSTGRESDB_DATABASE\"\nexport DB_POSTGRESDB_USER=\"$DB_POSTGRESDB_USER\"\nexport DB_POSTGRESDB_PASSWORD=\"$DB_POSTGRESDB_PASSWORD\"\nexport N8N_HOST=\"$N8N_HOST\"\nexport N8N_PORT=\"$N8N_PORT\"\nexport N8N_PROTOCOL=\"$N8N_PROTOCOL\"\nexport EXECUTIONS_MODE=\"$EXECUTIONS_MODE\"\nexport N8N_BASIC_AUTH_ACTIVE=\"$N8N_BASIC_AUTH_ACTIVE\"\nexport N8N_BASIC_AUTH_USER=\"$N8N_BASIC_AUTH_USER\"\nexport N8N_BASIC_AUTH_PASSWORD=\"$N8N_BASIC_AUTH_PASSWORD\"\nexport QUEUE_BULL_REDIS_HOST=\"$QUEUE_BULL_REDIS_HOST\"\nexport QUEUE_BULL_REDIS_PORT=\"$QUEUE_BULL_REDIS_PORT\"\nexport QUEUE_WORKERS=\"$QUEUE_WORKERS\"\nexport WEBHOOK_URL=\"$WEBHOOK_URL\"\nEOF\n        chmod 644 \"$CONFIG_FILE\"\n    }\n\n    save_config\n\n    echo \"\"\n    gum style --foreground 46 \"âœ… Configuration saved!\"\n    echo \"\"\n    echo \"Restart services to apply changes:\"\n    echo \"  flox services restart\"\n}\nexport -f n8n-reconfigure\n",
        "zsh": "n8n-info() {\n    echo \"n8n Environment Configuration\"\n    echo \"\"\n    echo \"Mode: $EXECUTIONS_MODE\"\n    echo \"Database: $DB_TYPE\"\n    if [ \"$DB_TYPE\" = \"postgresdb\" ]; then\n        echo \"  Host: $DB_POSTGRESDB_HOST:$DB_POSTGRESDB_PORT\"\n        echo \"  Database: $DB_POSTGRESDB_DATABASE\"\n    fi\n    echo \"\"\n    echo \"n8n URL: $N8N_PROTOCOL://$N8N_HOST:$N8N_PORT\"\n\n    if [ \"$N8N_BASIC_AUTH_ACTIVE\" = \"true\" ]; then\n        echo \"Username: $N8N_BASIC_AUTH_USER\"\n        echo \"Password: (set)\"\n    else\n        echo \"Authentication: Disabled\"\n    fi\n\n    if [ \"$EXECUTIONS_MODE\" = \"queue\" ]; then\n        echo \"\"\n        echo \"Queue Mode:\"\n        echo \"  Workers: $QUEUE_WORKERS\"\n        echo \"  Redis: $QUEUE_BULL_REDIS_HOST:$QUEUE_BULL_REDIS_PORT\"\n    fi\n\n    if [ -n \"$WEBHOOK_URL\" ]; then\n        echo \"\"\n        echo \"Webhook URL: $WEBHOOK_URL\"\n    fi\n\n    echo \"\"\n    echo \"Encryption Key: $ENCRYPTION_KEY_FILE\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  flox services status         Check service status\"\n    echo \"  flox services logs n8n-main  View main logs\"\n    echo \"  n8n-reconfigure              Reconfigure environment\"\n}\n\nn8n-reconfigure() {\n    echo \"Use bash shell for reconfiguration:\"\n    echo \"  bash -c 'n8n-reconfigure'\"\n}\n",
        "fish": "function n8n-info\n    echo \"n8n Environment Configuration\"\n    echo \"\"\n    echo \"Mode: $EXECUTIONS_MODE\"\n    echo \"Database: $DB_TYPE\"\n    if test \"$DB_TYPE\" = \"postgresdb\"\n        echo \"  Host: $DB_POSTGRESDB_HOST:$DB_POSTGRESDB_PORT\"\n        echo \"  Database: $DB_POSTGRESDB_DATABASE\"\n    end\n    echo \"\"\n    echo \"n8n URL: $N8N_PROTOCOL://$N8N_HOST:$N8N_PORT\"\n\n    if test \"$N8N_BASIC_AUTH_ACTIVE\" = \"true\"\n        echo \"Username: $N8N_BASIC_AUTH_USER\"\n        echo \"Password: (set)\"\n    else\n        echo \"Authentication: Disabled\"\n    end\n\n    if test \"$EXECUTIONS_MODE\" = \"queue\"\n        echo \"\"\n        echo \"Queue Mode:\"\n        echo \"  Workers: $QUEUE_WORKERS\"\n        echo \"  Redis: $QUEUE_BULL_REDIS_HOST:$QUEUE_BULL_REDIS_PORT\"\n    end\n\n    if test -n \"$WEBHOOK_URL\"\n        echo \"\"\n        echo \"Webhook URL: $WEBHOOK_URL\"\n    end\n\n    echo \"\"\n    echo \"Encryption Key: $ENCRYPTION_KEY_FILE\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  flox services status         Check service status\"\n    echo \"  flox services logs n8n-main  View main logs\"\nend\n\nfunction n8n-reconfigure\n    echo \"Use bash shell for reconfiguration:\"\n    echo \"  bash -c 'n8n-reconfigure'\"\nend\n"
      },
      "options": {
        "systems": [
          "aarch64-darwin",
          "aarch64-linux",
          "x86_64-darwin",
          "x86_64-linux"
        ]
      },
      "services": {
        "n8n-main": {
          "command": "exec n8n start\n"
        },
        "n8n-worker": {
          "command": "if [ \"$EXECUTIONS_MODE\" = \"queue\" ]; then\n    exec n8n worker\nelse\n    # Not needed in regular mode\n    tail -f /dev/null\nfi\n"
        }
      },
      "include": {
        "environments": [
          {
            "remote": "barstoolbluz/postgres-headless"
          },
          {
            "remote": "barstoolbluz/redis-headless"
          }
        ]
      }
    },
    "include": [
      {
        "manifest": {
          "version": 1,
          "install": {
            "postgis": {
              "pkg-path": "postgresql16Packages.postgis"
            },
            "postgresql": {
              "pkg-path": "postgresql_16"
            }
          },
          "vars": {
            "POSTGRES_CONFIG_DIR": "$FLOX_ENV_CACHE/postgres-config",
            "POSTGRES_DATA_DIR": "$FLOX_ENV_CACHE/postgres-data",
            "POSTGRES_LOG_DIR": "$FLOX_ENV_CACHE/postgres-logs",
            "POSTGRES_RUN_DIR": "$FLOX_ENV_CACHE/postgres-run"
          },
          "hook": {
            "on-activate": "# Create required directories\nmkdir -p \"$FLOX_ENV_CACHE/postgres-config\"\nmkdir -p \"$FLOX_ENV_CACHE/postgres-logs\"\nmkdir -p \"$FLOX_ENV_CACHE/postgres-data\"\nmkdir -p \"$FLOX_ENV_CACHE/postgres-run\"\n\n# === INIT-TIME VARIABLES ===\n# These affect initdb and cannot change without deleting PGDATA\nexport PGUSER=\"${PGUSER:-pguser}\"\nexport PGPASSWORD=\"${PGPASSWORD:-pgpass}\"\nexport POSTGRES_HOST_AUTH_METHOD=\"${POSTGRES_HOST_AUTH_METHOD:-md5}\"\nexport POSTGRES_ENCODING=\"${POSTGRES_ENCODING:-UTF8}\"\nexport POSTGRES_LOCALE=\"${POSTGRES_LOCALE:-C}\"\nexport POSTGRES_DATA_CHECKSUMS=\"${POSTGRES_DATA_CHECKSUMS:-}\"\nexport POSTGRES_INITDB_ARGS=\"${POSTGRES_INITDB_ARGS:-}\"\n\n# === RUNTIME VARIABLES - Connection ===\n# These can be changed by restarting the service\nexport PGHOSTADDR=\"${PGHOSTADDR:-127.0.0.1}\"\nexport PGPORT=\"${PGPORT:-15432}\"\nexport PGHOST=\"${PGHOST:-}\"\nexport PGDATABASE=\"${PGDATABASE:-postgres}\"\n\n# === RUNTIME VARIABLES - Performance ===\nexport POSTGRES_MAX_CONNECTIONS=\"${POSTGRES_MAX_CONNECTIONS:-100}\"\nexport POSTGRES_SHARED_BUFFERS=\"${POSTGRES_SHARED_BUFFERS:-128MB}\"\nexport POSTGRES_WORK_MEM=\"${POSTGRES_WORK_MEM:-4MB}\"\nexport POSTGRES_EFFECTIVE_CACHE_SIZE=\"${POSTGRES_EFFECTIVE_CACHE_SIZE:-4GB}\"\nexport POSTGRES_FSYNC=\"${POSTGRES_FSYNC:-on}\"\nexport POSTGRES_SYNCHRONOUS_COMMIT=\"${POSTGRES_SYNCHRONOUS_COMMIT:-on}\"\nexport POSTGRES_FULL_PAGE_WRITES=\"${POSTGRES_FULL_PAGE_WRITES:-on}\"\n\n# === RUNTIME VARIABLES - WAL ===\nexport POSTGRES_MAX_WAL_SIZE=\"${POSTGRES_MAX_WAL_SIZE:-1GB}\"\nexport POSTGRES_MIN_WAL_SIZE=\"${POSTGRES_MIN_WAL_SIZE:-80MB}\"\nexport POSTGRES_CHECKPOINT_TIMEOUT=\"${POSTGRES_CHECKPOINT_TIMEOUT:-5min}\"\n\n# === RUNTIME VARIABLES - Logging ===\nexport POSTGRES_LOG_STATEMENT=\"${POSTGRES_LOG_STATEMENT:-none}\"\nexport POSTGRES_LOG_DURATION=\"${POSTGRES_LOG_DURATION:-off}\"\nexport POSTGRES_LOG_MIN_DURATION=\"${POSTGRES_LOG_MIN_DURATION:-}\"\nexport POSTGRES_LOG_CONNECTIONS=\"${POSTGRES_LOG_CONNECTIONS:-off}\"\nexport POSTGRES_LOG_DISCONNECTIONS=\"${POSTGRES_LOG_DISCONNECTIONS:-off}\"\n\n# === FLEXIBILITY ===\nexport POSTGRES_EXTRA_OPTS=\"${POSTGRES_EXTRA_OPTS:-}\"\n\n# === DERIVED VARIABLES ===\nexport POSTGRES_DIR=\"${POSTGRES_DIR:-$FLOX_ENV_CACHE/postgres-data}\"\nexport PGDATA=\"$POSTGRES_DIR/data\"\nexport PGHOST_SOCKET=\"$POSTGRES_DIR/run\"\n\n# PGHOST logic: If empty or unset, use Unix socket\nif [ -z \"$PGHOST\" ]; then\n    export PGHOST=\"$PGHOST_SOCKET\"\n    export DATABASE_URL=\"postgresql:///$PGDATABASE?host=$PGHOST&port=$PGPORT\"\nelse\n    # User specified host for TCP\n    export DATABASE_URL=\"postgresql://$PGUSER:$PGPASSWORD@$PGHOST:$PGPORT/$PGDATABASE\"\nfi\n\n# === INITIALIZATION FUNCTION ===\ninitialize_postgres() {\n    # Check if already initialized\n    if [ -f \"$PGDATA/PG_VERSION\" ]; then\n        return 0\n    fi\n\n    # Create directories with proper permissions\n    mkdir -p \"$PGDATA\" \"$PGHOST_SOCKET\"\n    chmod 700 \"$PGDATA\" \"$PGHOST_SOCKET\"\n\n    # Initialize PostgreSQL with direct execution\n    echo \"Initializing PostgreSQL database...\"\n    initdb \"$PGDATA\" \\\n        --username=\"$PGUSER\" \\\n        --pwfile=<(echo \"$PGPASSWORD\") \\\n        --encoding=\"$POSTGRES_ENCODING\" \\\n        --locale=\"$POSTGRES_LOCALE\" \\\n        --auth=\"$POSTGRES_HOST_AUTH_METHOD\" \\\n        $([ -n \"$POSTGRES_DATA_CHECKSUMS\" ] && echo \"--data-checksums\") \\\n        $POSTGRES_INITDB_ARGS \\\n        > /dev/null 2>&1\n\n    if [ $? -ne 0 ]; then\n        echo \"âŒ Failed to initialize PostgreSQL\"\n        return 1\n    fi\n\n    # Create database if not \"postgres\"\n    if [ \"$PGDATABASE\" != \"postgres\" ]; then\n        echo \"Creating database '$PGDATABASE'...\"\n\n        # Start postgres temporarily\n        postgres -D \"$PGDATA\" \\\n            -c listen_addresses='' \\\n            -c unix_socket_directories=\"$PGHOST_SOCKET\" \\\n            -p \"$PGPORT\" \\\n            > /dev/null 2>&1 &\n        PG_PID=$!\n\n        sleep 3  # Wait for startup\n\n        # Create database\n        createdb \"$PGDATABASE\" > /dev/null 2>&1 || true\n\n        # Stop postgres\n        pg_ctl stop -D \"$PGDATA\" -m fast -w > /dev/null 2>&1\n    fi\n\n    echo \"âœ… PostgreSQL initialized successfully\"\n    return 0\n}\n\n# Run initialization\ninitialize_postgres\n\n# Display info with safety warnings\necho \"\"\necho \"âœ… PostgreSQL environment ready (headless mode)\"\necho \"\"\n\n# Safety warnings\nif [ \"$POSTGRES_FSYNC\" = \"off\" ]; then\n    echo \"âš ï¸  WARNING: fsync disabled - DATA LOSS RISK if crash occurs\"\nfi\nif [ \"$POSTGRES_HOST_AUTH_METHOD\" = \"trust\" ]; then\n    echo \"âš ï¸  WARNING: Authentication disabled - NO PASSWORD REQUIRED\"\nfi\nif [ \"$PGHOSTADDR\" = \"0.0.0.0\" ]; then\n    echo \"âš ï¸  WARNING: Listening on all interfaces - NETWORK EXPOSED\"\nfi\n[ \"$POSTGRES_FSYNC\" = \"off\" ] || [ \"$POSTGRES_HOST_AUTH_METHOD\" = \"trust\" ] || [ \"$PGHOSTADDR\" = \"0.0.0.0\" ] && echo \"\"\n\necho \"Connection:\"\necho \"  Listen address: ${PGHOSTADDR}:${PGPORT}\"\necho \"  Client connects to: ${PGHOST}\"\necho \"  Database: ${PGDATABASE}\"\necho \"  User: ${PGUSER}\"\necho \"\"\necho \"Performance:\"\necho \"  Max connections: ${POSTGRES_MAX_CONNECTIONS}\"\necho \"  Shared buffers: ${POSTGRES_SHARED_BUFFERS}\"\necho \"  fsync: ${POSTGRES_FSYNC}\"\necho \"\"\necho \"Commands:\"\necho \"  flox activate -s        Start PostgreSQL\"\necho \"  psql                    Connect to database\"\necho \"  postgres-info           Show configuration\"\necho \"\"\n"
          },
          "profile": {
            "bash": "postgres-info() {\n    echo \"PostgreSQL (Headless Mode) - Configuration\"\n    echo \"\"\n    echo \"Connection:\"\n    echo \"  Listen address: ${PGHOSTADDR}:${PGPORT}\"\n    echo \"  Client connects to: ${PGHOST}\"\n    echo \"  Database: ${PGDATABASE}\"\n    echo \"  User: ${PGUSER}\"\n    echo \"  Auth method: ${POSTGRES_HOST_AUTH_METHOD}\"\n    echo \"\"\n    echo \"Performance:\"\n    echo \"  Max connections: ${POSTGRES_MAX_CONNECTIONS}\"\n    echo \"  Shared buffers: ${POSTGRES_SHARED_BUFFERS}\"\n    echo \"  Work mem: ${POSTGRES_WORK_MEM}\"\n    echo \"  Effective cache size: ${POSTGRES_EFFECTIVE_CACHE_SIZE}\"\n    echo \"  fsync: ${POSTGRES_FSYNC}\"\n    echo \"  Synchronous commit: ${POSTGRES_SYNCHRONOUS_COMMIT}\"\n    echo \"\"\n    echo \"WAL:\"\n    echo \"  Max WAL size: ${POSTGRES_MAX_WAL_SIZE}\"\n    echo \"  Min WAL size: ${POSTGRES_MIN_WAL_SIZE}\"\n    echo \"  Checkpoint timeout: ${POSTGRES_CHECKPOINT_TIMEOUT}\"\n    echo \"\"\n    echo \"Logging:\"\n    echo \"  Statement logging: ${POSTGRES_LOG_STATEMENT}\"\n    echo \"  Duration logging: ${POSTGRES_LOG_DURATION}\"\n    echo \"  Connection logging: ${POSTGRES_LOG_CONNECTIONS}\"\n    echo \"\"\n    echo \"Data Directory: ${PGDATA}\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  psql                        Connect to database\"\n    echo \"  flox activate -s            Start PostgreSQL service\"\n    echo \"  flox services status        Check service status\"\n    echo \"  flox services logs postgres View service logs\"\n    echo \"  flox services restart postgres Restart with new settings\"\n}\nexport -f postgres-info\n",
            "zsh": "postgres-info() {\n    echo \"PostgreSQL (Headless Mode) - Configuration\"\n    echo \"\"\n    echo \"Connection:\"\n    echo \"  Listen address: ${PGHOSTADDR}:${PGPORT}\"\n    echo \"  Client connects to: ${PGHOST}\"\n    echo \"  Database: ${PGDATABASE}\"\n    echo \"  User: ${PGUSER}\"\n    echo \"  Auth method: ${POSTGRES_HOST_AUTH_METHOD}\"\n    echo \"\"\n    echo \"Performance:\"\n    echo \"  Max connections: ${POSTGRES_MAX_CONNECTIONS}\"\n    echo \"  Shared buffers: ${POSTGRES_SHARED_BUFFERS}\"\n    echo \"  Work mem: ${POSTGRES_WORK_MEM}\"\n    echo \"  Effective cache size: ${POSTGRES_EFFECTIVE_CACHE_SIZE}\"\n    echo \"  fsync: ${POSTGRES_FSYNC}\"\n    echo \"  Synchronous commit: ${POSTGRES_SYNCHRONOUS_COMMIT}\"\n    echo \"\"\n    echo \"WAL:\"\n    echo \"  Max WAL size: ${POSTGRES_MAX_WAL_SIZE}\"\n    echo \"  Min WAL size: ${POSTGRES_MIN_WAL_SIZE}\"\n    echo \"  Checkpoint timeout: ${POSTGRES_CHECKPOINT_TIMEOUT}\"\n    echo \"\"\n    echo \"Logging:\"\n    echo \"  Statement logging: ${POSTGRES_LOG_STATEMENT}\"\n    echo \"  Duration logging: ${POSTGRES_LOG_DURATION}\"\n    echo \"  Connection logging: ${POSTGRES_LOG_CONNECTIONS}\"\n    echo \"\"\n    echo \"Data Directory: ${PGDATA}\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  psql                        Connect to database\"\n    echo \"  flox activate -s            Start PostgreSQL service\"\n    echo \"  flox services status        Check service status\"\n    echo \"  flox services logs postgres View service logs\"\n    echo \"  flox services restart postgres Restart with new settings\"\n}\n",
            "fish": "function postgres-info\n    echo \"PostgreSQL (Headless Mode) - Configuration\"\n    echo \"\"\n    echo \"Connection:\"\n    echo \"  Listen address: $PGHOSTADDR:$PGPORT\"\n    echo \"  Client connects to: $PGHOST\"\n    echo \"  Database: $PGDATABASE\"\n    echo \"  User: $PGUSER\"\n    echo \"  Auth method: $POSTGRES_HOST_AUTH_METHOD\"\n    echo \"\"\n    echo \"Performance:\"\n    echo \"  Max connections: $POSTGRES_MAX_CONNECTIONS\"\n    echo \"  Shared buffers: $POSTGRES_SHARED_BUFFERS\"\n    echo \"  Work mem: $POSTGRES_WORK_MEM\"\n    echo \"  Effective cache size: $POSTGRES_EFFECTIVE_CACHE_SIZE\"\n    echo \"  fsync: $POSTGRES_FSYNC\"\n    echo \"  Synchronous commit: $POSTGRES_SYNCHRONOUS_COMMIT\"\n    echo \"\"\n    echo \"WAL:\"\n    echo \"  Max WAL size: $POSTGRES_MAX_WAL_SIZE\"\n    echo \"  Min WAL size: $POSTGRES_MIN_WAL_SIZE\"\n    echo \"  Checkpoint timeout: $POSTGRES_CHECKPOINT_TIMEOUT\"\n    echo \"\"\n    echo \"Logging:\"\n    echo \"  Statement logging: $POSTGRES_LOG_STATEMENT\"\n    echo \"  Duration logging: $POSTGRES_LOG_DURATION\"\n    echo \"  Connection logging: $POSTGRES_LOG_CONNECTIONS\"\n    echo \"\"\n    echo \"Data Directory: $PGDATA\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  psql                        Connect to database\"\n    echo \"  flox activate -s            Start PostgreSQL service\"\n    echo \"  flox services status        Check service status\"\n    echo \"  flox services logs postgres View service logs\"\n    echo \"  flox services restart postgres Restart with new settings\"\nend\n"
          },
          "options": {
            "systems": [
              "aarch64-darwin",
              "aarch64-linux",
              "x86_64-darwin",
              "x86_64-linux"
            ]
          },
          "services": {
            "postgres": {
              "command": "# Ensure socket directory exists\nmkdir -p \"$PGHOST_SOCKET\"\nchmod 700 \"$PGHOST_SOCKET\"\n\n# Start PostgreSQL with all runtime configuration\nexec postgres -D \"$PGDATA\" \\\n  -c listen_addresses=\"$PGHOSTADDR\" \\\n  -p \"$PGPORT\" \\\n  -c unix_socket_directories=\"$PGHOST_SOCKET\" \\\n  -c unix_socket_permissions=0700 \\\n  ${POSTGRES_MAX_CONNECTIONS:+-c max_connections=\"$POSTGRES_MAX_CONNECTIONS\"} \\\n  ${POSTGRES_SHARED_BUFFERS:+-c shared_buffers=\"$POSTGRES_SHARED_BUFFERS\"} \\\n  ${POSTGRES_WORK_MEM:+-c work_mem=\"$POSTGRES_WORK_MEM\"} \\\n  ${POSTGRES_EFFECTIVE_CACHE_SIZE:+-c effective_cache_size=\"$POSTGRES_EFFECTIVE_CACHE_SIZE\"} \\\n  $([ \"$POSTGRES_FSYNC\" = \"off\" ] && echo \"-c fsync=off\") \\\n  ${POSTGRES_SYNCHRONOUS_COMMIT:+-c synchronous_commit=\"$POSTGRES_SYNCHRONOUS_COMMIT\"} \\\n  ${POSTGRES_FULL_PAGE_WRITES:+-c full_page_writes=\"$POSTGRES_FULL_PAGE_WRITES\"} \\\n  ${POSTGRES_MAX_WAL_SIZE:+-c max_wal_size=\"$POSTGRES_MAX_WAL_SIZE\"} \\\n  ${POSTGRES_MIN_WAL_SIZE:+-c min_wal_size=\"$POSTGRES_MIN_WAL_SIZE\"} \\\n  ${POSTGRES_CHECKPOINT_TIMEOUT:+-c checkpoint_timeout=\"$POSTGRES_CHECKPOINT_TIMEOUT\"} \\\n  ${POSTGRES_LOG_STATEMENT:+-c log_statement=\"$POSTGRES_LOG_STATEMENT\"} \\\n  ${POSTGRES_LOG_DURATION:+-c log_duration=\"$POSTGRES_LOG_DURATION\"} \\\n  ${POSTGRES_LOG_MIN_DURATION:+-c log_min_duration_statement=\"$POSTGRES_LOG_MIN_DURATION\"} \\\n  ${POSTGRES_LOG_CONNECTIONS:+-c log_connections=\"$POSTGRES_LOG_CONNECTIONS\"} \\\n  ${POSTGRES_LOG_DISCONNECTIONS:+-c log_disconnections=\"$POSTGRES_LOG_DISCONNECTIONS\"} \\\n  $POSTGRES_EXTRA_OPTS\n"
            }
          }
        },
        "name": "postgres-headless",
        "descriptor": {
          "remote": "barstoolbluz/postgres-headless"
        }
      },
      {
        "manifest": {
          "version": 1,
          "install": {
            "redis": {
              "pkg-path": "redis"
            }
          },
          "vars": {
            "REDIS_CONFIG_DIR": "$FLOX_ENV_CACHE/redis-config",
            "REDIS_DATA_DIR": "$FLOX_ENV_CACHE/redis-data",
            "REDIS_LOG_DIR": "$FLOX_ENV_CACHE/redis-logs"
          },
          "hook": {
            "on-activate": "# Create required directories\nmkdir -p \"$FLOX_ENV_CACHE/redis-config\"\nmkdir -p \"$FLOX_ENV_CACHE/redis-logs\"\nmkdir -p \"$FLOX_ENV_CACHE/redis-data\"\n\n# === RUNTIME VARIABLES - Connection ===\nexport REDIS_HOST=\"${REDIS_HOST:-127.0.0.1}\"\nexport REDIS_PORT=\"${REDIS_PORT:-16379}\"\nexport REDIS_PASSWORD=\"${REDIS_PASSWORD:-}\"\n\n# === RUNTIME VARIABLES - Memory Management ===\nexport REDIS_MAXMEMORY=\"${REDIS_MAXMEMORY:-256mb}\"\nexport REDIS_MAXMEMORY_POLICY=\"${REDIS_MAXMEMORY_POLICY:-noeviction}\"\nexport REDIS_MAXMEMORY_SAMPLES=\"${REDIS_MAXMEMORY_SAMPLES:-5}\"\n\n# === RUNTIME VARIABLES - Persistence (RDB) ===\nexport REDIS_SAVE_RDB=\"${REDIS_SAVE_RDB:-yes}\"\nexport REDIS_SAVE_900=\"${REDIS_SAVE_900:-1}\"\nexport REDIS_SAVE_300=\"${REDIS_SAVE_300:-10}\"\nexport REDIS_SAVE_60=\"${REDIS_SAVE_60:-10000}\"\nexport REDIS_RDB_COMPRESSION=\"${REDIS_RDB_COMPRESSION:-yes}\"\nexport REDIS_RDB_CHECKSUM=\"${REDIS_RDB_CHECKSUM:-yes}\"\n\n# === RUNTIME VARIABLES - Persistence (AOF) ===\nexport REDIS_APPENDONLY=\"${REDIS_APPENDONLY:-no}\"\nexport REDIS_APPENDFSYNC=\"${REDIS_APPENDFSYNC:-everysec}\"\nexport REDIS_AOF_REWRITE_PERCENTAGE=\"${REDIS_AOF_REWRITE_PERCENTAGE:-100}\"\nexport REDIS_AOF_REWRITE_MIN_SIZE=\"${REDIS_AOF_REWRITE_MIN_SIZE:-64mb}\"\n\n# === RUNTIME VARIABLES - Performance ===\nexport REDIS_DATABASES=\"${REDIS_DATABASES:-16}\"\nexport REDIS_TCP_BACKLOG=\"${REDIS_TCP_BACKLOG:-511}\"\nexport REDIS_TIMEOUT=\"${REDIS_TIMEOUT:-0}\"\nexport REDIS_TCP_KEEPALIVE=\"${REDIS_TCP_KEEPALIVE:-300}\"\nexport REDIS_MAXCLIENTS=\"${REDIS_MAXCLIENTS:-10000}\"\n\n# === RUNTIME VARIABLES - Slow Log ===\nexport REDIS_SLOWLOG_LOG_SLOWER_THAN=\"${REDIS_SLOWLOG_LOG_SLOWER_THAN:-10000}\"\nexport REDIS_SLOWLOG_MAX_LEN=\"${REDIS_SLOWLOG_MAX_LEN:-128}\"\n\n# === RUNTIME VARIABLES - Latency Monitor ===\nexport REDIS_LATENCY_MONITOR_THRESHOLD=\"${REDIS_LATENCY_MONITOR_THRESHOLD:-0}\"\n\n# === RUNTIME VARIABLES - Security ===\nexport REDIS_PROTECTED_MODE=\"${REDIS_PROTECTED_MODE:-yes}\"\nexport REDIS_RENAME_COMMANDS=\"${REDIS_RENAME_COMMANDS:-}\"\n\n# === FLEXIBILITY ===\nexport REDIS_EXTRA_OPTS=\"${REDIS_EXTRA_OPTS:-}\"\n\n# === DERIVED VARIABLES ===\nexport REDIS_DIR=\"${REDIS_DIR:-$FLOX_ENV_CACHE/redis-data}\"\nexport REDIS_CONF_FILE=\"$REDIS_CONFIG_DIR/redis.conf\"\nexport REDIS_LOG_FILE=\"$REDIS_LOG_DIR/redis.log\"\n\n# === CONFIGURATION GENERATION ===\ngenerate_redis_config() {\n    # Ensure directories exist\n    mkdir -p \"$REDIS_DIR\" \"$REDIS_CONFIG_DIR\" \"$REDIS_LOG_DIR\"\n    chmod 700 \"$REDIS_DIR\" \"$REDIS_CONFIG_DIR\"\n\n    cat > \"$REDIS_CONF_FILE\" << EOF\n# Redis configuration generated by Flox (headless mode)\n# Connection\nbind $REDIS_HOST\nport $REDIS_PORT\nprotected-mode $REDIS_PROTECTED_MODE\n\n# General\ndaemonize no\ndir $REDIS_DIR\nlogfile $REDIS_LOG_FILE\ndatabases $REDIS_DATABASES\n\n# Network\ntcp-backlog $REDIS_TCP_BACKLOG\ntimeout $REDIS_TIMEOUT\ntcp-keepalive $REDIS_TCP_KEEPALIVE\n\n# Clients\nmaxclients $REDIS_MAXCLIENTS\n\n# Memory Management\nmaxmemory $REDIS_MAXMEMORY\nmaxmemory-policy $REDIS_MAXMEMORY_POLICY\nmaxmemory-samples $REDIS_MAXMEMORY_SAMPLES\n\nEOF\n\n    # Add password if set\n    if [ -n \"$REDIS_PASSWORD\" ]; then\n        echo \"# Security\" >> \"$REDIS_CONF_FILE\"\n        echo \"requirepass $REDIS_PASSWORD\" >> \"$REDIS_CONF_FILE\"\n        echo \"\" >> \"$REDIS_CONF_FILE\"\n    fi\n\n    # Add command renaming if set\n    if [ -n \"$REDIS_RENAME_COMMANDS\" ]; then\n        echo \"# Command renaming\" >> \"$REDIS_CONF_FILE\"\n        # Format: \"FLUSHDB,FLUSHALL,CONFIG\" -> rename-command FLUSHDB \"\", rename-command FLUSHALL \"\"\n        IFS=',' read -ra CMDS <<< \"$REDIS_RENAME_COMMANDS\"\n        for cmd in \"${CMDS[@]}\"; do\n            echo \"rename-command $cmd \\\"\\\"\" >> \"$REDIS_CONF_FILE\"\n        done\n        echo \"\" >> \"$REDIS_CONF_FILE\"\n    fi\n\n    # RDB Persistence\n    echo \"# RDB Persistence\" >> \"$REDIS_CONF_FILE\"\n    if [ \"$REDIS_SAVE_RDB\" = \"yes\" ]; then\n        echo \"save 900 $REDIS_SAVE_900\" >> \"$REDIS_CONF_FILE\"\n        echo \"save 300 $REDIS_SAVE_300\" >> \"$REDIS_CONF_FILE\"\n        echo \"save 60 $REDIS_SAVE_60\" >> \"$REDIS_CONF_FILE\"\n        echo \"rdbcompression $REDIS_RDB_COMPRESSION\" >> \"$REDIS_CONF_FILE\"\n        echo \"rdbchecksum $REDIS_RDB_CHECKSUM\" >> \"$REDIS_CONF_FILE\"\n    else\n        echo \"save \\\"\\\"\" >> \"$REDIS_CONF_FILE\"\n    fi\n    echo \"\" >> \"$REDIS_CONF_FILE\"\n\n    # AOF Persistence\n    echo \"# AOF Persistence\" >> \"$REDIS_CONF_FILE\"\n    echo \"appendonly $REDIS_APPENDONLY\" >> \"$REDIS_CONF_FILE\"\n    if [ \"$REDIS_APPENDONLY\" = \"yes\" ]; then\n        echo \"appendfsync $REDIS_APPENDFSYNC\" >> \"$REDIS_CONF_FILE\"\n        echo \"auto-aof-rewrite-percentage $REDIS_AOF_REWRITE_PERCENTAGE\" >> \"$REDIS_CONF_FILE\"\n        echo \"auto-aof-rewrite-min-size $REDIS_AOF_REWRITE_MIN_SIZE\" >> \"$REDIS_CONF_FILE\"\n    fi\n    echo \"\" >> \"$REDIS_CONF_FILE\"\n\n    # Slow Log\n    echo \"# Slow Log\" >> \"$REDIS_CONF_FILE\"\n    echo \"slowlog-log-slower-than $REDIS_SLOWLOG_LOG_SLOWER_THAN\" >> \"$REDIS_CONF_FILE\"\n    echo \"slowlog-max-len $REDIS_SLOWLOG_MAX_LEN\" >> \"$REDIS_CONF_FILE\"\n    echo \"\" >> \"$REDIS_CONF_FILE\"\n\n    # Latency Monitor\n    echo \"# Latency Monitor\" >> \"$REDIS_CONF_FILE\"\n    echo \"latency-monitor-threshold $REDIS_LATENCY_MONITOR_THRESHOLD\" >> \"$REDIS_CONF_FILE\"\n\n    chmod 644 \"$REDIS_CONF_FILE\"\n    return 0\n}\n\n# Generate configuration on activation\ngenerate_redis_config\n\n# Display info with safety warnings\necho \"\"\necho \"âœ… Redis environment ready (headless mode)\"\necho \"\"\n\n# Safety warnings\nif [ \"$REDIS_PROTECTED_MODE\" = \"no\" ]; then\n    echo \"âš ï¸  WARNING: Protected mode disabled - EXPOSED TO NETWORK\"\nfi\nif [ -z \"$REDIS_PASSWORD\" ]; then\n    echo \"âš ï¸  WARNING: No password set - UNAUTHENTICATED ACCESS\"\nfi\nif [ \"$REDIS_HOST\" = \"0.0.0.0\" ]; then\n    echo \"âš ï¸  WARNING: Listening on all interfaces - NETWORK EXPOSED\"\nfi\nif [ \"$REDIS_APPENDONLY\" = \"no\" ] && [ \"$REDIS_SAVE_RDB\" = \"no\" ]; then\n    echo \"âš ï¸  WARNING: All persistence disabled - DATA LOSS ON RESTART\"\nfi\n[ \"$REDIS_PROTECTED_MODE\" = \"no\" ] || [ -z \"$REDIS_PASSWORD\" ] || [ \"$REDIS_HOST\" = \"0.0.0.0\" ] || [ \"$REDIS_APPENDONLY\" = \"no\" -a \"$REDIS_SAVE_RDB\" = \"no\" ] && echo \"\"\n\necho \"Connection:\"\necho \"  Host: ${REDIS_HOST}:${REDIS_PORT}\"\nif [ -n \"$REDIS_PASSWORD\" ]; then\n    echo \"  Password: ***\"\nelse\n    echo \"  Password: (none)\"\nfi\necho \"\"\necho \"Memory:\"\necho \"  Max memory: ${REDIS_MAXMEMORY}\"\necho \"  Eviction policy: ${REDIS_MAXMEMORY_POLICY}\"\necho \"\"\necho \"Persistence:\"\necho \"  RDB snapshots: ${REDIS_SAVE_RDB}\"\necho \"  AOF logging: ${REDIS_APPENDONLY}\"\necho \"\"\necho \"Commands:\"\necho \"  flox activate -s        Start Redis\"\necho \"  redis-cli               Connect to Redis\"\necho \"  redis-info              Show configuration\"\necho \"\"\n"
          },
          "profile": {
            "bash": "redis-info() {\n    echo \"Redis (Headless Mode) - Configuration\"\n    echo \"\"\n    echo \"Connection:\"\n    echo \"  Host: ${REDIS_HOST}:${REDIS_PORT}\"\n    if [ -n \"$REDIS_PASSWORD\" ]; then\n        echo \"  Password: ***\"\n    else\n        echo \"  Password: (none)\"\n    fi\n    echo \"  Protected mode: ${REDIS_PROTECTED_MODE}\"\n    echo \"\"\n    echo \"Memory:\"\n    echo \"  Max memory: ${REDIS_MAXMEMORY}\"\n    echo \"  Eviction policy: ${REDIS_MAXMEMORY_POLICY}\"\n    echo \"  Eviction samples: ${REDIS_MAXMEMORY_SAMPLES}\"\n    echo \"\"\n    echo \"Persistence (RDB):\"\n    echo \"  Enabled: ${REDIS_SAVE_RDB}\"\n    if [ \"$REDIS_SAVE_RDB\" = \"yes\" ]; then\n        echo \"  Save after 900s if ${REDIS_SAVE_900}+ changes\"\n        echo \"  Save after 300s if ${REDIS_SAVE_300}+ changes\"\n        echo \"  Save after 60s if ${REDIS_SAVE_60}+ changes\"\n        echo \"  Compression: ${REDIS_RDB_COMPRESSION}\"\n        echo \"  Checksum: ${REDIS_RDB_CHECKSUM}\"\n    fi\n    echo \"\"\n    echo \"Persistence (AOF):\"\n    echo \"  Enabled: ${REDIS_APPENDONLY}\"\n    if [ \"$REDIS_APPENDONLY\" = \"yes\" ]; then\n        echo \"  Fsync policy: ${REDIS_APPENDFSYNC}\"\n        echo \"  Rewrite percentage: ${REDIS_AOF_REWRITE_PERCENTAGE}\"\n        echo \"  Rewrite min size: ${REDIS_AOF_REWRITE_MIN_SIZE}\"\n    fi\n    echo \"\"\n    echo \"Performance:\"\n    echo \"  Databases: ${REDIS_DATABASES}\"\n    echo \"  Max clients: ${REDIS_MAXCLIENTS}\"\n    echo \"  TCP backlog: ${REDIS_TCP_BACKLOG}\"\n    echo \"  Timeout: ${REDIS_TIMEOUT}s\"\n    echo \"  TCP keepalive: ${REDIS_TCP_KEEPALIVE}s\"\n    echo \"\"\n    echo \"Monitoring:\"\n    echo \"  Slow log threshold: ${REDIS_SLOWLOG_LOG_SLOWER_THAN}Î¼s\"\n    echo \"  Slow log max length: ${REDIS_SLOWLOG_MAX_LEN}\"\n    echo \"  Latency monitor threshold: ${REDIS_LATENCY_MONITOR_THRESHOLD}ms\"\n    echo \"\"\n    echo \"Data Directory: ${REDIS_DIR}\"\n    echo \"Config File: ${REDIS_CONF_FILE}\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  redis-cli                       Connect to Redis\"\n    echo \"  flox activate -s                Start Redis service\"\n    echo \"  flox services status            Check service status\"\n    echo \"  flox services logs redis        View service logs\"\n    echo \"  flox services restart redis     Restart with new settings\"\n}\nexport -f redis-info\n",
            "zsh": "redis-info() {\n    echo \"Redis (Headless Mode) - Configuration\"\n    echo \"\"\n    echo \"Connection:\"\n    echo \"  Host: ${REDIS_HOST}:${REDIS_PORT}\"\n    if [ -n \"$REDIS_PASSWORD\" ]; then\n        echo \"  Password: ***\"\n    else\n        echo \"  Password: (none)\"\n    fi\n    echo \"  Protected mode: ${REDIS_PROTECTED_MODE}\"\n    echo \"\"\n    echo \"Memory:\"\n    echo \"  Max memory: ${REDIS_MAXMEMORY}\"\n    echo \"  Eviction policy: ${REDIS_MAXMEMORY_POLICY}\"\n    echo \"  Eviction samples: ${REDIS_MAXMEMORY_SAMPLES}\"\n    echo \"\"\n    echo \"Persistence (RDB):\"\n    echo \"  Enabled: ${REDIS_SAVE_RDB}\"\n    if [ \"$REDIS_SAVE_RDB\" = \"yes\" ]; then\n        echo \"  Save after 900s if ${REDIS_SAVE_900}+ changes\"\n        echo \"  Save after 300s if ${REDIS_SAVE_300}+ changes\"\n        echo \"  Save after 60s if ${REDIS_SAVE_60}+ changes\"\n        echo \"  Compression: ${REDIS_RDB_COMPRESSION}\"\n        echo \"  Checksum: ${REDIS_RDB_CHECKSUM}\"\n    fi\n    echo \"\"\n    echo \"Persistence (AOF):\"\n    echo \"  Enabled: ${REDIS_APPENDONLY}\"\n    if [ \"$REDIS_APPENDONLY\" = \"yes\" ]; then\n        echo \"  Fsync policy: ${REDIS_APPENDFSYNC}\"\n        echo \"  Rewrite percentage: ${REDIS_AOF_REWRITE_PERCENTAGE}\"\n        echo \"  Rewrite min size: ${REDIS_AOF_REWRITE_MIN_SIZE}\"\n    fi\n    echo \"\"\n    echo \"Performance:\"\n    echo \"  Databases: ${REDIS_DATABASES}\"\n    echo \"  Max clients: ${REDIS_MAXCLIENTS}\"\n    echo \"  TCP backlog: ${REDIS_TCP_BACKLOG}\"\n    echo \"  Timeout: ${REDIS_TIMEOUT}s\"\n    echo \"  TCP keepalive: ${REDIS_TCP_KEEPALIVE}s\"\n    echo \"\"\n    echo \"Monitoring:\"\n    echo \"  Slow log threshold: ${REDIS_SLOWLOG_LOG_SLOWER_THAN}Î¼s\"\n    echo \"  Slow log max length: ${REDIS_SLOWLOG_MAX_LEN}\"\n    echo \"  Latency monitor threshold: ${REDIS_LATENCY_MONITOR_THRESHOLD}ms\"\n    echo \"\"\n    echo \"Data Directory: ${REDIS_DIR}\"\n    echo \"Config File: ${REDIS_CONF_FILE}\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  redis-cli                       Connect to Redis\"\n    echo \"  flox activate -s                Start Redis service\"\n    echo \"  flox services status            Check service status\"\n    echo \"  flox services logs redis        View service logs\"\n    echo \"  flox services restart redis     Restart with new settings\"\n}\n",
            "fish": "function redis-info\n    echo \"Redis (Headless Mode) - Configuration\"\n    echo \"\"\n    echo \"Connection:\"\n    echo \"  Host: $REDIS_HOST:$REDIS_PORT\"\n    if test -n \"$REDIS_PASSWORD\"\n        echo \"  Password: ***\"\n    else\n        echo \"  Password: (none)\"\n    end\n    echo \"  Protected mode: $REDIS_PROTECTED_MODE\"\n    echo \"\"\n    echo \"Memory:\"\n    echo \"  Max memory: $REDIS_MAXMEMORY\"\n    echo \"  Eviction policy: $REDIS_MAXMEMORY_POLICY\"\n    echo \"  Eviction samples: $REDIS_MAXMEMORY_SAMPLES\"\n    echo \"\"\n    echo \"Persistence (RDB):\"\n    echo \"  Enabled: $REDIS_SAVE_RDB\"\n    if test \"$REDIS_SAVE_RDB\" = \"yes\"\n        echo \"  Save after 900s if $REDIS_SAVE_900+ changes\"\n        echo \"  Save after 300s if $REDIS_SAVE_300+ changes\"\n        echo \"  Save after 60s if $REDIS_SAVE_60+ changes\"\n        echo \"  Compression: $REDIS_RDB_COMPRESSION\"\n        echo \"  Checksum: $REDIS_RDB_CHECKSUM\"\n    end\n    echo \"\"\n    echo \"Persistence (AOF):\"\n    echo \"  Enabled: $REDIS_APPENDONLY\"\n    if test \"$REDIS_APPENDONLY\" = \"yes\"\n        echo \"  Fsync policy: $REDIS_APPENDFSYNC\"\n        echo \"  Rewrite percentage: $REDIS_AOF_REWRITE_PERCENTAGE\"\n        echo \"  Rewrite min size: $REDIS_AOF_REWRITE_MIN_SIZE\"\n    end\n    echo \"\"\n    echo \"Performance:\"\n    echo \"  Databases: $REDIS_DATABASES\"\n    echo \"  Max clients: $REDIS_MAXCLIENTS\"\n    echo \"  TCP backlog: $REDIS_TCP_BACKLOG\"\n    echo \"  Timeout: $REDIS_TIMEOUT\"s\n    echo \"  TCP keepalive: $REDIS_TCP_KEEPALIVE\"s\n    echo \"\"\n    echo \"Monitoring:\"\n    echo \"  Slow log threshold: $REDIS_SLOWLOG_LOG_SLOWER_THAN\"Î¼s\n    echo \"  Slow log max length: $REDIS_SLOWLOG_MAX_LEN\"\n    echo \"  Latency monitor threshold: $REDIS_LATENCY_MONITOR_THRESHOLD\"ms\n    echo \"\"\n    echo \"Data Directory: $REDIS_DIR\"\n    echo \"Config File: $REDIS_CONF_FILE\"\n    echo \"\"\n    echo \"Commands:\"\n    echo \"  redis-cli                       Connect to Redis\"\n    echo \"  flox activate -s                Start Redis service\"\n    echo \"  flox services status            Check service status\"\n    echo \"  flox services logs redis        View service logs\"\n    echo \"  flox services restart redis     Restart with new settings\"\nend\n"
          },
          "options": {
            "systems": [
              "aarch64-darwin",
              "aarch64-linux",
              "x86_64-darwin",
              "x86_64-linux"
            ]
          },
          "services": {
            "redis": {
              "command": "redis-server $REDIS_CONF_FILE"
            }
          }
        },
        "name": "redis-headless",
        "descriptor": {
          "remote": "barstoolbluz/redis-headless"
        }
      }
    ],
    "warnings": [
      {
        "warning": {
          "Overriding": [
            "options",
            "systems"
          ]
        },
        "higher_priority_name": "redis-headless"
      },
      {
        "warning": {
          "Overriding": [
            "options",
            "systems"
          ]
        },
        "higher_priority_name": "Current manifest"
      }
    ]
  }
}