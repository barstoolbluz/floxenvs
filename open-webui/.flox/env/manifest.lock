{
  "lockfile-version": 1,
  "manifest": {
    "version": 1,
    "install": {
      "bat": {
        "pkg-path": "bat"
      },
      "curl": {
        "pkg-path": "curl"
      },
      "ollama-ui": {
        "pkg-path": "nextjs-ollama-llm-ui"
      },
      "open-webui": {
        "pkg-path": "open-webui"
      }
    },
    "vars": {
      "ANONYMIZED_TELEMETRY_DEFAULT": "false",
      "DEFAULT_CONNECTION_NAME_DEFAULT": "Ollama",
      "DEFAULT_MODELS_PROVIDER_DEFAULT": "ollama",
      "DO_NOT_TRACK_DEFAULT": "true",
      "HOST_DEFAULT": "0.0.0.0",
      "NEXT_PUBLIC_OLLAMA_URL": "http://localhost:11434",
      "OLLAMA_API_BASE_URL_DEFAULT": "http://127.0.0.1:11434",
      "OLLAMA_BASE_URL_DEFAULT": "http://127.0.0.1:11434",
      "PORT_DEFAULT": "8080",
      "SCARF_NO_ANALYTICS_DEFAULT": "true"
    },
    "hook": {
      "on-activate": "export NEXT_CACHE_DIR=\"$FLOX_ENV_CACHE/next\"\nmkdir -p $NEXT_CACHE_DIR\n\n  # Fetch README   # exports config + support for runtime override\n  export OLLAMA_BASE_URL=\"${OLLAMA_BASE_URL:-$OLLAMA_BASE_URL_DEFAULT}\"\n  export OLLAMA_API_BASE_URL=\"${OLLAMA_API_BASE_URL:-$OLLAMA_API_BASE_URL_DEFAULT}\"\n  export HOST=\"${HOST:-$HOST_DEFAULT}\"\n  export PORT=\"${PORT:-$PORT_DEFAULT}\"\n  export DEFAULT_MODELS_PROVIDER=\"${DEFAULT_MODELS_PROVIDER:-$DEFAULT_MODELS_PROVIDER_DEFAULT}\"\n  export DEFAULT_CONNECTION_NAME=\"${DEFAULT_CONNECTION_NAME:-$DEFAULT_CONNECTION_NAME_DEFAULT}\"\n  export SCARF_NO_ANALYTICS=\"${SCARF_NO_ANALYTICS:-$SCARF_NO_ANALYTICS_DEFAULT}\"\n  export DO_NOT_TRACK=\"${DO_NOT_TRACK:-$DO_NOT_TRACK_DEFAULT}\"\n  export ANONYMIZED_TELEMETRY=\"${ANONYMIZED_TELEMETRY:-$ANONYMIZED_TELEMETRY_DEFAULT}\"\n\n  # sets up data directories in $FLOX_ENV_CACHE\n  WEBUI_DATA_DIR=\"$FLOX_ENV_CACHE/openwebui\"\n  mkdir -p \"$WEBUI_DATA_DIR/cache\"\n  mkdir -p \"$WEBUI_DATA_DIR/data\"\n  mkdir -p \"$FLOX_ENV_CACHE/logs\"\n\n  # exports derived paths (users can override)\n  export DATA_DIR=\"${DATA_DIR:-$WEBUI_DATA_DIR/data}\"\n  export CACHE_DIR=\"${CACHE_DIR:-$WEBUI_DATA_DIR/cache}\"\n  export HF_HOME=\"${HF_HOME:-$WEBUI_DATA_DIR/cache/huggingface}\"\n  export SENTENCE_TRANSFORMERS_HOME=\"${SENTENCE_TRANSFORMERS_HOME:-$WEBUI_DATA_DIR/cache/sentence_transformers}\"\n  export TIKTOKEN_CACHE_DIR=\"${TIKTOKEN_CACHE_DIR:-$WEBUI_DATA_DIR/cache/tiktoken}\"\n  export WHISPER_MODEL_DIR=\"${WHISPER_MODEL_DIR:-$WEBUI_DATA_DIR/cache/whisper}\"\n\n  # generates 256-bit key if not exists\n  KEY_FILE=\"$WEBUI_DATA_DIR/webui_secret_key\"\n  if [ -z \"$WEBUI_SECRET_KEY\" ]; then\n    if [ ! -e \"$KEY_FILE\" ]; then\n      head -c 32 /dev/random | base64 > \"$KEY_FILE\"\n    fi\n    export WEBUI_SECRET_KEY=$(cat \"$KEY_FILE\")\n  fi\n\n  # returns to project directory\n  cd \"$FLOX_ENV_PROJECT\"\n\n  echo \"\"\n  echo \"✅ open-webui environment ready\"\n  echo \"\"\n  echo \"Type 'helpf' to view the full README\"\n  echo \"\"\n\n  # Fetch README.md if not present\n  README_FILE=\"$FLOX_ENV_PROJECT/README.md\"\n  if [ ! -f \"$README_FILE\" ]; then\n    if curl -fsSL https://raw.githubusercontent.com/barstoolbluz/floxenvs/main/open-webui/README.md -o \"$README_FILE\" 2>/dev/null; then\n      echo \"✓ Downloaded README.md (use 'helpf' to view)\"\n    fi\n  fi\n"
    },
    "profile": {
      "bash": "\n# displays config info\nwebui_info() {\n  echo \"======================================\"\n  echo \"  OpenWebUI Configuration\"\n  echo \"======================================\"\n  echo \"\"\n  echo \"Data Directory:\"\n  echo \"  $FLOX_ENV_CACHE/openwebui\"\n  echo \"\"\n  echo \"Services:\"\n  echo \"  OpenWebUI: http://$HOST:$PORT\"\n  echo \"  Ollama:    $OLLAMA_BASE_URL\"\n  echo \"\"\n  echo \"Quick Commands:\"\n  echo \"  webui_info     - Show this information\"\n  echo \"  webui_status   - Check service status\"\n  echo \"  webui_logs     - Tail service logs\"\n  echo \"  ollama_status  - Check Ollama connectivity\"\n  echo \"  ollama-info    - Show Ollama configuration\"\n  echo \"  ollama-health  - Test Ollama API health\"\n  echo \"  helpf          - View full README documentation\"\n  echo \"\"\n}\nexport -f webui_info\n\n# checks service status\nwebui_status() {\n  flox services status\n}\nexport -f webui_status\n\n# tails service logs\nwebui_logs() {\n  tail -f \"$FLOX_ENV_CACHE/logs/openwebui.log\"\n}\nexport -f webui_logs\n\n# checks ollama connection (uses ollama-health from ollama-headless)\nollama_status() {\n  if command -v ollama-health >/dev/null 2>&1; then\n    ollama-health\n  else\n    echo -n \"Checking Ollama at $OLLAMA_BASE_URL ... \"\n    if curl -sf \"$OLLAMA_BASE_URL/api/tags\" >/dev/null 2>&1; then\n      echo \"✓ Connected\"\n      return 0\n    else\n      echo \"✗ Cannot connect\"\n      echo \"Make sure Ollama is running with: flox activate -s\"\n      return 1\n    fi\n  fi\n}\nexport -f ollama_status\n\n  helpf() {\n    local README_FILE=\"$FLOX_ENV_PROJECT/README.md\"\n    local README_URL=\"https://raw.githubusercontent.com/barstoolbluz/floxenvs/main/open-webui/README.md\"\n\n    if [ \"$1\" = \"--help\" ]; then\n      echo \"Usage: helpf [OPTIONS]\"\n      echo \"\"\n      echo \"View environment documentation\"\n      echo \"\"\n      echo \"Options:\"\n      echo \"  --force    Force download fresh copy from GitHub\"\n      echo \"  --help     Show this help message\"\n      echo \"\"\n      echo \"The README is cached locally and only downloaded if missing.\"\n      return 0\n    fi\n\n    if [ \"$1\" = \"--force\" ]; then\n      echo \"Fetching latest README.md from GitHub...\"\n      if curl -fsSL \"$README_URL\" -o \"$README_FILE\"; then\n        echo \"✓ Downloaded README.md\"\n      else\n        echo \"✗ Failed to download README.md\"\n        return 1\n      fi\n    elif [ ! -f \"$README_FILE\" ]; then\n      echo \"README.md not found, downloading...\"\n      if curl -fsSL \"$README_URL\" -o \"$README_FILE\"; then\n        echo \"✓ Downloaded README.md\"\n      else\n        echo \"✗ Failed to download README.md\"\n        return 1\n      fi\n    fi\n\n    if [ -f \"$README_FILE\" ]; then\n      bat --style=auto --paging=always \"$README_FILE\"\n    else\n      echo \"✗ README.md not found at $README_FILE\"\n      return 1\n    fi\n  }\n  export -f helpf\n",
      "zsh": "\n# displays config info\nwebui_info() {\n  echo \"======================================\"\n  echo \"  OpenWebUI Configuration\"\n  echo \"======================================\"\n  echo \"\"\n  echo \"Data Directory:\"\n  echo \"  $FLOX_ENV_CACHE/openwebui\"\n  echo \"\"\n  echo \"Services:\"\n  echo \"  OpenWebUI: http://$HOST:$PORT\"\n  echo \"  Ollama:    $OLLAMA_BASE_URL\"\n  echo \"\"\n  echo \"Quick Commands:\"\n  echo \"  webui_info     - Show this information\"\n  echo \"  webui_status   - Check service status\"\n  echo \"  webui_logs     - Tail service logs\"\n  echo \"  ollama_status  - Check Ollama connectivity\"\n  echo \"  ollama-info    - Show Ollama configuration\"\n  echo \"  ollama-health  - Test Ollama API health\"\n  echo \"  helpf          - View full README documentation\"\n  echo \"\"\n}\n\n# checks service status\nwebui_status() {\n  flox services status\n}\n\n# tails service logs\nwebui_logs() {\n  tail -f \"$FLOX_ENV_CACHE/logs/openwebui.log\"\n}\n\n# checks ollama connection (uses ollama-health from ollama-headless)\nollama_status() {\n  if command -v ollama-health >/dev/null 2>&1; then\n    ollama-health\n  else\n    echo -n \"Checking Ollama at $OLLAMA_BASE_URL ... \"\n    if curl -sf \"$OLLAMA_BASE_URL/api/tags\" >/dev/null 2>&1; then\n      echo \"✓ Connected\"\n      return 0\n    else\n      echo \"✗ Cannot connect\"\n      echo \"Make sure Ollama is running with: flox activate -s\"\n      return 1\n    fi\n  fi\n}\n\n  helpf() {\n    local README_FILE=\"$FLOX_ENV_PROJECT/README.md\"\n    local README_URL=\"https://raw.githubusercontent.com/barstoolbluz/floxenvs/main/open-webui/README.md\"\n\n    if [ \"$1\" = \"--help\" ]; then\n      echo \"Usage: helpf [OPTIONS]\"\n      echo \"\"\n      echo \"View environment documentation\"\n      echo \"\"\n      echo \"Options:\"\n      echo \"  --force    Force download fresh copy from GitHub\"\n      echo \"  --help     Show this help message\"\n      echo \"\"\n      echo \"The README is cached locally and only downloaded if missing.\"\n      return 0\n    fi\n\n    if [ \"$1\" = \"--force\" ]; then\n      echo \"Fetching latest README.md from GitHub...\"\n      if curl -fsSL \"$README_URL\" -o \"$README_FILE\"; then\n        echo \"✓ Downloaded README.md\"\n      else\n        echo \"✗ Failed to download README.md\"\n        return 1\n      fi\n    elif [ ! -f \"$README_FILE\" ]; then\n      echo \"README.md not found, downloading...\"\n      if curl -fsSL \"$README_URL\" -o \"$README_FILE\"; then\n        echo \"✓ Downloaded README.md\"\n      else\n        echo \"✗ Failed to download README.md\"\n        return 1\n      fi\n    fi\n\n    if [ -f \"$README_FILE\" ]; then\n      bat --style=auto --paging=always \"$README_FILE\"\n    else\n      echo \"✗ README.md not found at $README_FILE\"\n      return 1\n    fi\n  }\n",
      "fish": "\n# displays config info\nfunction webui_info\n  echo \"======================================\"\n  echo \"  OpenWebUI Configuration\"\n  echo \"======================================\"\n  echo \"\"\n  echo \"Data Directory:\"\n  echo \"  $FLOX_ENV_CACHE/openwebui\"\n  echo \"\"\n  echo \"Services:\"\n  echo \"  OpenWebUI: http://$HOST:$PORT\"\n  echo \"  Ollama:    $OLLAMA_BASE_URL\"\n  echo \"\"\n  echo \"Quick Commands:\"\n  echo \"  webui_info     - Show this information\"\n  echo \"  webui_status   - Check service status\"\n  echo \"  webui_logs     - Tail service logs\"\n  echo \"  ollama_status  - Check Ollama connectivity\"\n  echo \"  ollama-info    - Show Ollama configuration\"\n  echo \"  ollama-health  - Test Ollama API health\"\n  echo \"  helpf          - View full README documentation\"\n  echo \"\"\nend\n\n# checks service status\nfunction webui_status\n  flox services status\nend\n\n# tails service logs\nfunction webui_logs\n  tail -f \"$FLOX_ENV_CACHE/logs/openwebui.log\"\nend\n\n# checks ollama connection (uses ollama-health from ollama-headless)\nfunction ollama_status\n  if command -v ollama-health >/dev/null 2>&1\n    ollama-health\n  else\n    echo -n \"Checking Ollama at $OLLAMA_BASE_URL ... \"\n    if curl -sf \"$OLLAMA_BASE_URL/api/tags\" >/dev/null 2>&1\n      echo \"✓ Connected\"\n      return 0\n    else\n      echo \"✗ Cannot connect\"\n      echo \"Make sure Ollama is running with: flox activate -s\"\n      return 1\n    end\n  end\nend\n\nfunction helpf\n    set README_FILE \"$FLOX_ENV_PROJECT/README.md\"\n    set README_URL \"https://raw.githubusercontent.com/barstoolbluz/floxenvs/main/open-webui/README.md\"\n\n    if test \"$argv[1]\" = \"--help\"\n        echo \"Usage: helpf [OPTIONS]\"\n        echo \"\"\n        echo \"View environment documentation\"\n        echo \"\"\n        echo \"Options:\"\n        echo \"  --force    Force download fresh copy from GitHub\"\n        echo \"  --help     Show this help message\"\n        echo \"\"\n        echo \"The README is cached locally and only downloaded if missing.\"\n        return 0\n    end\n\n    if test \"$argv[1]\" = \"--force\"\n        echo \"Fetching latest README.md from GitHub...\"\n        if curl -fsSL \"$README_URL\" -o \"$README_FILE\"\n            echo \"✓ Downloaded README.md\"\n        else\n            echo \"✗ Failed to download README.md\"\n            return 1\n        end\n    else if not test -f \"$README_FILE\"\n        echo \"README.md not found, downloading...\"\n        if curl -fsSL \"$README_URL\" -o \"$README_FILE\"\n            echo \"✓ Downloaded README.md\"\n        else\n            echo \"✗ Failed to download README.md\"\n            return 1\n        end\n    end\n\n    if test -f \"$README_FILE\"\n        bat --style=auto --paging=always \"$README_FILE\"\n    else\n        echo \"✗ README.md not found at $README_FILE\"\n        return 1\n    end\nend\n"
    },
    "options": {
      "systems": [
        "aarch64-darwin",
        "aarch64-linux",
        "x86_64-darwin",
        "x86_64-linux"
      ],
      "allow": {
        "licenses": []
      }
    },
    "services": {
      "ollama-ui": {
        "command": "# wait for ollama to be ready\nuntil ollama list; do sleep 1; done\n\nnextjs-ollama-llm-ui\n"
      },
      "openwebui": {
        "command": "  mkdir -p \"$FLOX_ENV_CACHE/logs\"\n  exec open-webui serve --host \"$HOST\" --port \"$PORT\" 2>&1 | tee -a \"$FLOX_ENV_CACHE/logs/openwebui.log\"\n"
      }
    }
  },
  "packages": [
    {
      "attr_path": "bat",
      "broken": false,
      "derivation": "/nix/store/ia91qsp3a4xncvki3af6kc636364pqzj-bat-0.24.0.drv",
      "description": "Cat(1) clone with syntax highlighting and Git integration",
      "install_id": "bat",
      "license": "[ Apache-2.0, MIT ]",
      "locked_url": "https://github.com/flox/nixpkgs?rev=55d15ad12a74eb7d4646254e13638ad0c4128776",
      "name": "bat-0.24.0",
      "pname": "bat",
      "rev": "55d15ad12a74eb7d4646254e13638ad0c4128776",
      "rev_count": 716003,
      "rev_date": "2024-12-03T07:54:31Z",
      "scrape_date": "2024-12-04T03:55:34Z",
      "stabilities": [
        "staging",
        "unstable"
      ],
      "unfree": false,
      "version": "0.24.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/5q3jij0wd0k455bfan3kxwmlsxha4vvf-bat-0.24.0"
      },
      "system": "aarch64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "bat",
      "broken": false,
      "derivation": "/nix/store/aypd7vyh2c9xnj2f73a4f9g4jyn80kka-bat-0.24.0.drv",
      "description": "Cat(1) clone with syntax highlighting and Git integration",
      "install_id": "bat",
      "license": "[ Apache-2.0, MIT ]",
      "locked_url": "https://github.com/flox/nixpkgs?rev=55d15ad12a74eb7d4646254e13638ad0c4128776",
      "name": "bat-0.24.0",
      "pname": "bat",
      "rev": "55d15ad12a74eb7d4646254e13638ad0c4128776",
      "rev_count": 716003,
      "rev_date": "2024-12-03T07:54:31Z",
      "scrape_date": "2024-12-04T03:55:34Z",
      "stabilities": [
        "staging",
        "unstable"
      ],
      "unfree": false,
      "version": "0.24.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/sg9ihsijd9mws8ib8p3m71rid3znmm08-bat-0.24.0"
      },
      "system": "aarch64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "bat",
      "broken": false,
      "derivation": "/nix/store/7nmafxb88k5rl2bc8y2p3hjygfblm8gs-bat-0.24.0.drv",
      "description": "Cat(1) clone with syntax highlighting and Git integration",
      "install_id": "bat",
      "license": "[ Apache-2.0, MIT ]",
      "locked_url": "https://github.com/flox/nixpkgs?rev=55d15ad12a74eb7d4646254e13638ad0c4128776",
      "name": "bat-0.24.0",
      "pname": "bat",
      "rev": "55d15ad12a74eb7d4646254e13638ad0c4128776",
      "rev_count": 716003,
      "rev_date": "2024-12-03T07:54:31Z",
      "scrape_date": "2024-12-04T03:55:34Z",
      "stabilities": [
        "staging",
        "unstable"
      ],
      "unfree": false,
      "version": "0.24.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/xpvx99kslai1054085ys1fbmvpz5zv7y-bat-0.24.0"
      },
      "system": "x86_64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "bat",
      "broken": false,
      "derivation": "/nix/store/ls08sisnhiyybsx3sbh8hbwm9fvryjsb-bat-0.24.0.drv",
      "description": "Cat(1) clone with syntax highlighting and Git integration",
      "install_id": "bat",
      "license": "[ Apache-2.0, MIT ]",
      "locked_url": "https://github.com/flox/nixpkgs?rev=55d15ad12a74eb7d4646254e13638ad0c4128776",
      "name": "bat-0.24.0",
      "pname": "bat",
      "rev": "55d15ad12a74eb7d4646254e13638ad0c4128776",
      "rev_count": 716003,
      "rev_date": "2024-12-03T07:54:31Z",
      "scrape_date": "2024-12-04T03:55:34Z",
      "stabilities": [
        "staging",
        "unstable"
      ],
      "unfree": false,
      "version": "0.24.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/28gvmy0w40b0dslxzmvqb6d4pigjjc4v-bat-0.24.0"
      },
      "system": "x86_64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "curl",
      "broken": false,
      "derivation": "/nix/store/9prb1w9v1bs7204ma5g6mgy4dnf1dcbb-curl-8.11.0.drv",
      "description": "Command line tool for transferring files with URL syntax",
      "install_id": "curl",
      "license": "curl",
      "locked_url": "https://github.com/flox/nixpkgs?rev=55d15ad12a74eb7d4646254e13638ad0c4128776",
      "name": "curl-8.11.0",
      "pname": "curl",
      "rev": "55d15ad12a74eb7d4646254e13638ad0c4128776",
      "rev_count": 716003,
      "rev_date": "2024-12-03T07:54:31Z",
      "scrape_date": "2024-12-04T03:55:34Z",
      "stabilities": [
        "staging",
        "unstable"
      ],
      "unfree": false,
      "version": "8.11.0",
      "outputs_to_install": [
        "bin",
        "man"
      ],
      "outputs": {
        "bin": "/nix/store/78b40bakdk6ldzd2cnzqqc6k2ffq6q80-curl-8.11.0-bin",
        "dev": "/nix/store/x8qcqapnc2656j9pmhycqw5gjsg8wj95-curl-8.11.0-dev",
        "devdoc": "/nix/store/3jkma0k7qwx82djlzac798hnhky6s2mw-curl-8.11.0-devdoc",
        "man": "/nix/store/p28ziicmg9c8y0j7zlhfab3cz2jl84jq-curl-8.11.0-man",
        "out": "/nix/store/j39kv1qva1ndbbfc6b7rqipz5fs9pnvc-curl-8.11.0"
      },
      "system": "aarch64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "curl",
      "broken": false,
      "derivation": "/nix/store/m5qsrq5d3ix0y4hkzwcmjhizzsqi0sf3-curl-8.11.0.drv",
      "description": "Command line tool for transferring files with URL syntax",
      "install_id": "curl",
      "license": "curl",
      "locked_url": "https://github.com/flox/nixpkgs?rev=55d15ad12a74eb7d4646254e13638ad0c4128776",
      "name": "curl-8.11.0",
      "pname": "curl",
      "rev": "55d15ad12a74eb7d4646254e13638ad0c4128776",
      "rev_count": 716003,
      "rev_date": "2024-12-03T07:54:31Z",
      "scrape_date": "2024-12-04T03:55:34Z",
      "stabilities": [
        "staging",
        "unstable"
      ],
      "unfree": false,
      "version": "8.11.0",
      "outputs_to_install": [
        "bin",
        "man"
      ],
      "outputs": {
        "bin": "/nix/store/wq37ah6ayglskxv1viw204j246miz9mw-curl-8.11.0-bin",
        "debug": "/nix/store/hz05x0jdczalgjxivm8m1ni56hamkrh1-curl-8.11.0-debug",
        "dev": "/nix/store/8q0a3mgciq1alhn51ga7pcj491w42frm-curl-8.11.0-dev",
        "devdoc": "/nix/store/081g6dj7mniw7fjzn5byf9vpzk36yg4h-curl-8.11.0-devdoc",
        "man": "/nix/store/b8rfm1q2rakp4nml9l61s45v3pg2iah4-curl-8.11.0-man",
        "out": "/nix/store/fqwkalsvg898sgf969bqpaz4blypx5gd-curl-8.11.0"
      },
      "system": "aarch64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "curl",
      "broken": false,
      "derivation": "/nix/store/kdcr3ssg3ckxvyghv2pkf6fbz15y5b4c-curl-8.11.0.drv",
      "description": "Command line tool for transferring files with URL syntax",
      "install_id": "curl",
      "license": "curl",
      "locked_url": "https://github.com/flox/nixpkgs?rev=55d15ad12a74eb7d4646254e13638ad0c4128776",
      "name": "curl-8.11.0",
      "pname": "curl",
      "rev": "55d15ad12a74eb7d4646254e13638ad0c4128776",
      "rev_count": 716003,
      "rev_date": "2024-12-03T07:54:31Z",
      "scrape_date": "2024-12-04T03:55:34Z",
      "stabilities": [
        "staging",
        "unstable"
      ],
      "unfree": false,
      "version": "8.11.0",
      "outputs_to_install": [
        "bin",
        "man"
      ],
      "outputs": {
        "bin": "/nix/store/d9hsgziq68q5qaasrm8rcmvvk7idry85-curl-8.11.0-bin",
        "dev": "/nix/store/5vkqd75k1d4wk6dsgdzxsfv9p692abia-curl-8.11.0-dev",
        "devdoc": "/nix/store/br90i57yq5fnqz9kc52lg0d8cpz5xkvi-curl-8.11.0-devdoc",
        "man": "/nix/store/pri71vk0srs4174n79v3rrsasi0cfcl7-curl-8.11.0-man",
        "out": "/nix/store/ppzjbkfncrrxmiyh5h32pdn4lk8bi4ba-curl-8.11.0"
      },
      "system": "x86_64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "curl",
      "broken": false,
      "derivation": "/nix/store/aghzbv1fia6f8wwyykg3lyixpq86fycs-curl-8.11.0.drv",
      "description": "Command line tool for transferring files with URL syntax",
      "install_id": "curl",
      "license": "curl",
      "locked_url": "https://github.com/flox/nixpkgs?rev=55d15ad12a74eb7d4646254e13638ad0c4128776",
      "name": "curl-8.11.0",
      "pname": "curl",
      "rev": "55d15ad12a74eb7d4646254e13638ad0c4128776",
      "rev_count": 716003,
      "rev_date": "2024-12-03T07:54:31Z",
      "scrape_date": "2024-12-04T03:55:34Z",
      "stabilities": [
        "staging",
        "unstable"
      ],
      "unfree": false,
      "version": "8.11.0",
      "outputs_to_install": [
        "bin",
        "man"
      ],
      "outputs": {
        "bin": "/nix/store/r686j19q8zcnccpg5h9xlf7bvvs27b8s-curl-8.11.0-bin",
        "debug": "/nix/store/j4l8vnw7cqpiw68mf0gxaqx98hw5fcpb-curl-8.11.0-debug",
        "dev": "/nix/store/h269afcqsqykvbsnhrbpw9lghaff47dz-curl-8.11.0-dev",
        "devdoc": "/nix/store/8xcjvalpnmcn6c6af3rhshl0ahnxw9dl-curl-8.11.0-devdoc",
        "man": "/nix/store/rlls2vbms86vcrf7z2savrh0x0gbbk8h-curl-8.11.0-man",
        "out": "/nix/store/ixq7chmml361204anwph16ll2njcf19d-curl-8.11.0"
      },
      "system": "x86_64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "nextjs-ollama-llm-ui",
      "broken": false,
      "derivation": "/nix/store/njh0aqysblaa622scw70a82wsy74kaq2-nextjs-ollama-llm-ui-1.1.0.drv",
      "description": "Simple chat web interface for Ollama LLMs",
      "install_id": "ollama-ui",
      "license": "MIT",
      "locked_url": "https://github.com/flox/nixpkgs?rev=55d15ad12a74eb7d4646254e13638ad0c4128776",
      "name": "nextjs-ollama-llm-ui-1.1.0",
      "pname": "nextjs-ollama-llm-ui",
      "rev": "55d15ad12a74eb7d4646254e13638ad0c4128776",
      "rev_count": 716003,
      "rev_date": "2024-12-03T07:54:31Z",
      "scrape_date": "2024-12-04T03:55:34Z",
      "stabilities": [
        "staging",
        "unstable"
      ],
      "unfree": false,
      "version": "1.1.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/fmfxmq7spr8hkqgsxsf3qzcr47hy413l-nextjs-ollama-llm-ui-1.1.0"
      },
      "system": "aarch64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "nextjs-ollama-llm-ui",
      "broken": false,
      "derivation": "/nix/store/ddz2mshdd8cw22my4lvxxvp97q4n7n30-nextjs-ollama-llm-ui-1.1.0.drv",
      "description": "Simple chat web interface for Ollama LLMs",
      "install_id": "ollama-ui",
      "license": "MIT",
      "locked_url": "https://github.com/flox/nixpkgs?rev=55d15ad12a74eb7d4646254e13638ad0c4128776",
      "name": "nextjs-ollama-llm-ui-1.1.0",
      "pname": "nextjs-ollama-llm-ui",
      "rev": "55d15ad12a74eb7d4646254e13638ad0c4128776",
      "rev_count": 716003,
      "rev_date": "2024-12-03T07:54:31Z",
      "scrape_date": "2024-12-04T03:55:34Z",
      "stabilities": [
        "staging",
        "unstable"
      ],
      "unfree": false,
      "version": "1.1.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/5pznbkpvaqylhdya4apj3by8vs6rd7sc-nextjs-ollama-llm-ui-1.1.0"
      },
      "system": "aarch64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "nextjs-ollama-llm-ui",
      "broken": false,
      "derivation": "/nix/store/ap2w12yz3y9qqvslr3bmv7izl8g6m89j-nextjs-ollama-llm-ui-1.1.0.drv",
      "description": "Simple chat web interface for Ollama LLMs",
      "install_id": "ollama-ui",
      "license": "MIT",
      "locked_url": "https://github.com/flox/nixpkgs?rev=55d15ad12a74eb7d4646254e13638ad0c4128776",
      "name": "nextjs-ollama-llm-ui-1.1.0",
      "pname": "nextjs-ollama-llm-ui",
      "rev": "55d15ad12a74eb7d4646254e13638ad0c4128776",
      "rev_count": 716003,
      "rev_date": "2024-12-03T07:54:31Z",
      "scrape_date": "2024-12-04T03:55:34Z",
      "stabilities": [
        "staging",
        "unstable"
      ],
      "unfree": false,
      "version": "1.1.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/5nlgnfjvy4gqp0gdmw4ng4pp8fmyp4ln-nextjs-ollama-llm-ui-1.1.0"
      },
      "system": "x86_64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "nextjs-ollama-llm-ui",
      "broken": false,
      "derivation": "/nix/store/cyrpykk4fpm8q9lx395xggwy8zw9w3vx-nextjs-ollama-llm-ui-1.1.0.drv",
      "description": "Simple chat web interface for Ollama LLMs",
      "install_id": "ollama-ui",
      "license": "MIT",
      "locked_url": "https://github.com/flox/nixpkgs?rev=55d15ad12a74eb7d4646254e13638ad0c4128776",
      "name": "nextjs-ollama-llm-ui-1.1.0",
      "pname": "nextjs-ollama-llm-ui",
      "rev": "55d15ad12a74eb7d4646254e13638ad0c4128776",
      "rev_count": 716003,
      "rev_date": "2024-12-03T07:54:31Z",
      "scrape_date": "2024-12-04T03:55:34Z",
      "stabilities": [
        "staging",
        "unstable"
      ],
      "unfree": false,
      "version": "1.1.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/v6b0xb36pvy7jvxsy6g9l1d5hijnp167-nextjs-ollama-llm-ui-1.1.0"
      },
      "system": "x86_64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "open-webui",
      "broken": false,
      "derivation": "/nix/store/rqqph10868zg2l0mr253pyi9q4mal99b-open-webui-0.4.7.drv",
      "description": "Comprehensive suite for LLMs with a user-friendly WebUI",
      "install_id": "open-webui",
      "license": "MIT",
      "locked_url": "https://github.com/flox/nixpkgs?rev=55d15ad12a74eb7d4646254e13638ad0c4128776",
      "name": "open-webui-0.4.7",
      "pname": "open-webui",
      "rev": "55d15ad12a74eb7d4646254e13638ad0c4128776",
      "rev_count": 716003,
      "rev_date": "2024-12-03T07:54:31Z",
      "scrape_date": "2024-12-04T03:55:34Z",
      "stabilities": [
        "staging",
        "unstable"
      ],
      "unfree": false,
      "version": "0.4.7",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "dist": "/nix/store/bjhak8s8pxzis0c5ib1yxkk2rr5jiwmq-open-webui-0.4.7-dist",
        "out": "/nix/store/7mx340hm8b9ixjwsw5f1jh576ssiyg50-open-webui-0.4.7"
      },
      "system": "aarch64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "open-webui",
      "broken": false,
      "derivation": "/nix/store/pwi61wacvsjz5lcwv4q7m4b4362ba0rw-open-webui-0.4.7.drv",
      "description": "Comprehensive suite for LLMs with a user-friendly WebUI",
      "install_id": "open-webui",
      "license": "MIT",
      "locked_url": "https://github.com/flox/nixpkgs?rev=55d15ad12a74eb7d4646254e13638ad0c4128776",
      "name": "open-webui-0.4.7",
      "pname": "open-webui",
      "rev": "55d15ad12a74eb7d4646254e13638ad0c4128776",
      "rev_count": 716003,
      "rev_date": "2024-12-03T07:54:31Z",
      "scrape_date": "2024-12-04T03:55:34Z",
      "stabilities": [
        "staging",
        "unstable"
      ],
      "unfree": false,
      "version": "0.4.7",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "dist": "/nix/store/9kj1l1p6lqaq1jxnldx7ks2aqhcw13a9-open-webui-0.4.7-dist",
        "out": "/nix/store/765x1r4g947aqlyx5i0wjsz8g5m1d5ar-open-webui-0.4.7"
      },
      "system": "aarch64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "open-webui",
      "broken": false,
      "derivation": "/nix/store/23zjwc4nr3nvzzr9alfqzj8jvjvkcl2j-open-webui-0.4.7.drv",
      "description": "Comprehensive suite for LLMs with a user-friendly WebUI",
      "install_id": "open-webui",
      "license": "MIT",
      "locked_url": "https://github.com/flox/nixpkgs?rev=55d15ad12a74eb7d4646254e13638ad0c4128776",
      "name": "open-webui-0.4.7",
      "pname": "open-webui",
      "rev": "55d15ad12a74eb7d4646254e13638ad0c4128776",
      "rev_count": 716003,
      "rev_date": "2024-12-03T07:54:31Z",
      "scrape_date": "2024-12-04T03:55:34Z",
      "stabilities": [
        "staging",
        "unstable"
      ],
      "unfree": false,
      "version": "0.4.7",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "dist": "/nix/store/9g76qpvrsnq36s94n3a3j46kqs0hzfyl-open-webui-0.4.7-dist",
        "out": "/nix/store/4rwhyrcyxlgy3srl2chki2ljkwxvy2kj-open-webui-0.4.7"
      },
      "system": "x86_64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "open-webui",
      "broken": false,
      "derivation": "/nix/store/0k4fszhc8x8m3gbj6j7m4rn7z51bk15b-open-webui-0.4.7.drv",
      "description": "Comprehensive suite for LLMs with a user-friendly WebUI",
      "install_id": "open-webui",
      "license": "MIT",
      "locked_url": "https://github.com/flox/nixpkgs?rev=55d15ad12a74eb7d4646254e13638ad0c4128776",
      "name": "open-webui-0.4.7",
      "pname": "open-webui",
      "rev": "55d15ad12a74eb7d4646254e13638ad0c4128776",
      "rev_count": 716003,
      "rev_date": "2024-12-03T07:54:31Z",
      "scrape_date": "2024-12-04T03:55:34Z",
      "stabilities": [
        "staging",
        "unstable"
      ],
      "unfree": false,
      "version": "0.4.7",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "dist": "/nix/store/5kgrcywiayzfalva7izv9c322maq1l4h-open-webui-0.4.7-dist",
        "out": "/nix/store/m9kv04nnad2mr3xg48ykpdskq4jdqafi-open-webui-0.4.7"
      },
      "system": "x86_64-linux",
      "group": "toplevel",
      "priority": 5
    }
  ],
  "compose": {
    "composer": {
      "version": 1,
      "install": {
        "bat": {
          "pkg-path": "bat"
        },
        "curl": {
          "pkg-path": "curl"
        },
        "open-webui": {
          "pkg-path": "open-webui"
        }
      },
      "vars": {
        "ANONYMIZED_TELEMETRY_DEFAULT": "false",
        "DEFAULT_CONNECTION_NAME_DEFAULT": "Ollama",
        "DEFAULT_MODELS_PROVIDER_DEFAULT": "ollama",
        "DO_NOT_TRACK_DEFAULT": "true",
        "HOST_DEFAULT": "0.0.0.0",
        "OLLAMA_API_BASE_URL_DEFAULT": "http://127.0.0.1:11434",
        "OLLAMA_BASE_URL_DEFAULT": "http://127.0.0.1:11434",
        "PORT_DEFAULT": "8080",
        "SCARF_NO_ANALYTICS_DEFAULT": "true"
      },
      "hook": {
        "on-activate": "  # Fetch README   # exports config + support for runtime override\n  export OLLAMA_BASE_URL=\"${OLLAMA_BASE_URL:-$OLLAMA_BASE_URL_DEFAULT}\"\n  export OLLAMA_API_BASE_URL=\"${OLLAMA_API_BASE_URL:-$OLLAMA_API_BASE_URL_DEFAULT}\"\n  export HOST=\"${HOST:-$HOST_DEFAULT}\"\n  export PORT=\"${PORT:-$PORT_DEFAULT}\"\n  export DEFAULT_MODELS_PROVIDER=\"${DEFAULT_MODELS_PROVIDER:-$DEFAULT_MODELS_PROVIDER_DEFAULT}\"\n  export DEFAULT_CONNECTION_NAME=\"${DEFAULT_CONNECTION_NAME:-$DEFAULT_CONNECTION_NAME_DEFAULT}\"\n  export SCARF_NO_ANALYTICS=\"${SCARF_NO_ANALYTICS:-$SCARF_NO_ANALYTICS_DEFAULT}\"\n  export DO_NOT_TRACK=\"${DO_NOT_TRACK:-$DO_NOT_TRACK_DEFAULT}\"\n  export ANONYMIZED_TELEMETRY=\"${ANONYMIZED_TELEMETRY:-$ANONYMIZED_TELEMETRY_DEFAULT}\"\n\n  # sets up data directories in $FLOX_ENV_CACHE\n  WEBUI_DATA_DIR=\"$FLOX_ENV_CACHE/openwebui\"\n  mkdir -p \"$WEBUI_DATA_DIR/cache\"\n  mkdir -p \"$WEBUI_DATA_DIR/data\"\n  mkdir -p \"$FLOX_ENV_CACHE/logs\"\n\n  # exports derived paths (users can override)\n  export DATA_DIR=\"${DATA_DIR:-$WEBUI_DATA_DIR/data}\"\n  export CACHE_DIR=\"${CACHE_DIR:-$WEBUI_DATA_DIR/cache}\"\n  export HF_HOME=\"${HF_HOME:-$WEBUI_DATA_DIR/cache/huggingface}\"\n  export SENTENCE_TRANSFORMERS_HOME=\"${SENTENCE_TRANSFORMERS_HOME:-$WEBUI_DATA_DIR/cache/sentence_transformers}\"\n  export TIKTOKEN_CACHE_DIR=\"${TIKTOKEN_CACHE_DIR:-$WEBUI_DATA_DIR/cache/tiktoken}\"\n  export WHISPER_MODEL_DIR=\"${WHISPER_MODEL_DIR:-$WEBUI_DATA_DIR/cache/whisper}\"\n\n  # generates 256-bit key if not exists\n  KEY_FILE=\"$WEBUI_DATA_DIR/webui_secret_key\"\n  if [ -z \"$WEBUI_SECRET_KEY\" ]; then\n    if [ ! -e \"$KEY_FILE\" ]; then\n      head -c 32 /dev/random | base64 > \"$KEY_FILE\"\n    fi\n    export WEBUI_SECRET_KEY=$(cat \"$KEY_FILE\")\n  fi\n\n  # returns to project directory\n  cd \"$FLOX_ENV_PROJECT\"\n\n  echo \"\"\n  echo \"✅ open-webui environment ready\"\n  echo \"\"\n  echo \"Type 'helpf' to view the full README\"\n  echo \"\"\n\n  # Fetch README.md if not present\n  README_FILE=\"$FLOX_ENV_PROJECT/README.md\"\n  if [ ! -f \"$README_FILE\" ]; then\n    if curl -fsSL https://raw.githubusercontent.com/barstoolbluz/floxenvs/main/open-webui/README.md -o \"$README_FILE\" 2>/dev/null; then\n      echo \"✓ Downloaded README.md (use 'helpf' to view)\"\n    fi\n  fi\n"
      },
      "profile": {
        "bash": "\n# displays config info\nwebui_info() {\n  echo \"======================================\"\n  echo \"  OpenWebUI Configuration\"\n  echo \"======================================\"\n  echo \"\"\n  echo \"Data Directory:\"\n  echo \"  $FLOX_ENV_CACHE/openwebui\"\n  echo \"\"\n  echo \"Services:\"\n  echo \"  OpenWebUI: http://$HOST:$PORT\"\n  echo \"  Ollama:    $OLLAMA_BASE_URL\"\n  echo \"\"\n  echo \"Quick Commands:\"\n  echo \"  webui_info     - Show this information\"\n  echo \"  webui_status   - Check service status\"\n  echo \"  webui_logs     - Tail service logs\"\n  echo \"  ollama_status  - Check Ollama connectivity\"\n  echo \"  ollama-info    - Show Ollama configuration\"\n  echo \"  ollama-health  - Test Ollama API health\"\n  echo \"  helpf          - View full README documentation\"\n  echo \"\"\n}\nexport -f webui_info\n\n# checks service status\nwebui_status() {\n  flox services status\n}\nexport -f webui_status\n\n# tails service logs\nwebui_logs() {\n  tail -f \"$FLOX_ENV_CACHE/logs/openwebui.log\"\n}\nexport -f webui_logs\n\n# checks ollama connection (uses ollama-health from ollama-headless)\nollama_status() {\n  if command -v ollama-health >/dev/null 2>&1; then\n    ollama-health\n  else\n    echo -n \"Checking Ollama at $OLLAMA_BASE_URL ... \"\n    if curl -sf \"$OLLAMA_BASE_URL/api/tags\" >/dev/null 2>&1; then\n      echo \"✓ Connected\"\n      return 0\n    else\n      echo \"✗ Cannot connect\"\n      echo \"Make sure Ollama is running with: flox activate -s\"\n      return 1\n    fi\n  fi\n}\nexport -f ollama_status\n\n  helpf() {\n    local README_FILE=\"$FLOX_ENV_PROJECT/README.md\"\n    local README_URL=\"https://raw.githubusercontent.com/barstoolbluz/floxenvs/main/open-webui/README.md\"\n\n    if [ \"$1\" = \"--help\" ]; then\n      echo \"Usage: helpf [OPTIONS]\"\n      echo \"\"\n      echo \"View environment documentation\"\n      echo \"\"\n      echo \"Options:\"\n      echo \"  --force    Force download fresh copy from GitHub\"\n      echo \"  --help     Show this help message\"\n      echo \"\"\n      echo \"The README is cached locally and only downloaded if missing.\"\n      return 0\n    fi\n\n    if [ \"$1\" = \"--force\" ]; then\n      echo \"Fetching latest README.md from GitHub...\"\n      if curl -fsSL \"$README_URL\" -o \"$README_FILE\"; then\n        echo \"✓ Downloaded README.md\"\n      else\n        echo \"✗ Failed to download README.md\"\n        return 1\n      fi\n    elif [ ! -f \"$README_FILE\" ]; then\n      echo \"README.md not found, downloading...\"\n      if curl -fsSL \"$README_URL\" -o \"$README_FILE\"; then\n        echo \"✓ Downloaded README.md\"\n      else\n        echo \"✗ Failed to download README.md\"\n        return 1\n      fi\n    fi\n\n    if [ -f \"$README_FILE\" ]; then\n      bat --style=auto --paging=always \"$README_FILE\"\n    else\n      echo \"✗ README.md not found at $README_FILE\"\n      return 1\n    fi\n  }\n  export -f helpf\n",
        "zsh": "\n# displays config info\nwebui_info() {\n  echo \"======================================\"\n  echo \"  OpenWebUI Configuration\"\n  echo \"======================================\"\n  echo \"\"\n  echo \"Data Directory:\"\n  echo \"  $FLOX_ENV_CACHE/openwebui\"\n  echo \"\"\n  echo \"Services:\"\n  echo \"  OpenWebUI: http://$HOST:$PORT\"\n  echo \"  Ollama:    $OLLAMA_BASE_URL\"\n  echo \"\"\n  echo \"Quick Commands:\"\n  echo \"  webui_info     - Show this information\"\n  echo \"  webui_status   - Check service status\"\n  echo \"  webui_logs     - Tail service logs\"\n  echo \"  ollama_status  - Check Ollama connectivity\"\n  echo \"  ollama-info    - Show Ollama configuration\"\n  echo \"  ollama-health  - Test Ollama API health\"\n  echo \"  helpf          - View full README documentation\"\n  echo \"\"\n}\n\n# checks service status\nwebui_status() {\n  flox services status\n}\n\n# tails service logs\nwebui_logs() {\n  tail -f \"$FLOX_ENV_CACHE/logs/openwebui.log\"\n}\n\n# checks ollama connection (uses ollama-health from ollama-headless)\nollama_status() {\n  if command -v ollama-health >/dev/null 2>&1; then\n    ollama-health\n  else\n    echo -n \"Checking Ollama at $OLLAMA_BASE_URL ... \"\n    if curl -sf \"$OLLAMA_BASE_URL/api/tags\" >/dev/null 2>&1; then\n      echo \"✓ Connected\"\n      return 0\n    else\n      echo \"✗ Cannot connect\"\n      echo \"Make sure Ollama is running with: flox activate -s\"\n      return 1\n    fi\n  fi\n}\n\n  helpf() {\n    local README_FILE=\"$FLOX_ENV_PROJECT/README.md\"\n    local README_URL=\"https://raw.githubusercontent.com/barstoolbluz/floxenvs/main/open-webui/README.md\"\n\n    if [ \"$1\" = \"--help\" ]; then\n      echo \"Usage: helpf [OPTIONS]\"\n      echo \"\"\n      echo \"View environment documentation\"\n      echo \"\"\n      echo \"Options:\"\n      echo \"  --force    Force download fresh copy from GitHub\"\n      echo \"  --help     Show this help message\"\n      echo \"\"\n      echo \"The README is cached locally and only downloaded if missing.\"\n      return 0\n    fi\n\n    if [ \"$1\" = \"--force\" ]; then\n      echo \"Fetching latest README.md from GitHub...\"\n      if curl -fsSL \"$README_URL\" -o \"$README_FILE\"; then\n        echo \"✓ Downloaded README.md\"\n      else\n        echo \"✗ Failed to download README.md\"\n        return 1\n      fi\n    elif [ ! -f \"$README_FILE\" ]; then\n      echo \"README.md not found, downloading...\"\n      if curl -fsSL \"$README_URL\" -o \"$README_FILE\"; then\n        echo \"✓ Downloaded README.md\"\n      else\n        echo \"✗ Failed to download README.md\"\n        return 1\n      fi\n    fi\n\n    if [ -f \"$README_FILE\" ]; then\n      bat --style=auto --paging=always \"$README_FILE\"\n    else\n      echo \"✗ README.md not found at $README_FILE\"\n      return 1\n    fi\n  }\n",
        "fish": "\n# displays config info\nfunction webui_info\n  echo \"======================================\"\n  echo \"  OpenWebUI Configuration\"\n  echo \"======================================\"\n  echo \"\"\n  echo \"Data Directory:\"\n  echo \"  $FLOX_ENV_CACHE/openwebui\"\n  echo \"\"\n  echo \"Services:\"\n  echo \"  OpenWebUI: http://$HOST:$PORT\"\n  echo \"  Ollama:    $OLLAMA_BASE_URL\"\n  echo \"\"\n  echo \"Quick Commands:\"\n  echo \"  webui_info     - Show this information\"\n  echo \"  webui_status   - Check service status\"\n  echo \"  webui_logs     - Tail service logs\"\n  echo \"  ollama_status  - Check Ollama connectivity\"\n  echo \"  ollama-info    - Show Ollama configuration\"\n  echo \"  ollama-health  - Test Ollama API health\"\n  echo \"  helpf          - View full README documentation\"\n  echo \"\"\nend\n\n# checks service status\nfunction webui_status\n  flox services status\nend\n\n# tails service logs\nfunction webui_logs\n  tail -f \"$FLOX_ENV_CACHE/logs/openwebui.log\"\nend\n\n# checks ollama connection (uses ollama-health from ollama-headless)\nfunction ollama_status\n  if command -v ollama-health >/dev/null 2>&1\n    ollama-health\n  else\n    echo -n \"Checking Ollama at $OLLAMA_BASE_URL ... \"\n    if curl -sf \"$OLLAMA_BASE_URL/api/tags\" >/dev/null 2>&1\n      echo \"✓ Connected\"\n      return 0\n    else\n      echo \"✗ Cannot connect\"\n      echo \"Make sure Ollama is running with: flox activate -s\"\n      return 1\n    end\n  end\nend\n\nfunction helpf\n    set README_FILE \"$FLOX_ENV_PROJECT/README.md\"\n    set README_URL \"https://raw.githubusercontent.com/barstoolbluz/floxenvs/main/open-webui/README.md\"\n\n    if test \"$argv[1]\" = \"--help\"\n        echo \"Usage: helpf [OPTIONS]\"\n        echo \"\"\n        echo \"View environment documentation\"\n        echo \"\"\n        echo \"Options:\"\n        echo \"  --force    Force download fresh copy from GitHub\"\n        echo \"  --help     Show this help message\"\n        echo \"\"\n        echo \"The README is cached locally and only downloaded if missing.\"\n        return 0\n    end\n\n    if test \"$argv[1]\" = \"--force\"\n        echo \"Fetching latest README.md from GitHub...\"\n        if curl -fsSL \"$README_URL\" -o \"$README_FILE\"\n            echo \"✓ Downloaded README.md\"\n        else\n            echo \"✗ Failed to download README.md\"\n            return 1\n        end\n    else if not test -f \"$README_FILE\"\n        echo \"README.md not found, downloading...\"\n        if curl -fsSL \"$README_URL\" -o \"$README_FILE\"\n            echo \"✓ Downloaded README.md\"\n        else\n            echo \"✗ Failed to download README.md\"\n            return 1\n        end\n    end\n\n    if test -f \"$README_FILE\"\n        bat --style=auto --paging=always \"$README_FILE\"\n    else\n        echo \"✗ README.md not found at $README_FILE\"\n        return 1\n    end\nend\n"
      },
      "options": {
        "systems": [
          "aarch64-darwin",
          "aarch64-linux",
          "x86_64-darwin",
          "x86_64-linux"
        ]
      },
      "services": {
        "openwebui": {
          "command": "  mkdir -p \"$FLOX_ENV_CACHE/logs\"\n  exec open-webui serve --host \"$HOST\" --port \"$PORT\" 2>&1 | tee -a \"$FLOX_ENV_CACHE/logs/openwebui.log\"\n"
        }
      },
      "include": {
        "environments": [
          {
            "remote": "barstoolbluz/ollama"
          }
        ]
      }
    },
    "include": [
      {
        "manifest": {
          "version": 1,
          "install": {
            "ollama-ui": {
              "pkg-path": "nextjs-ollama-llm-ui"
            }
          },
          "vars": {
            "NEXT_PUBLIC_OLLAMA_URL": "http://localhost:11434"
          },
          "hook": {
            "on-activate": "export NEXT_CACHE_DIR=\"$FLOX_ENV_CACHE/next\"\nmkdir -p $NEXT_CACHE_DIR\n"
          },
          "profile": {},
          "options": {
            "systems": [
              "aarch64-darwin",
              "aarch64-linux",
              "x86_64-darwin",
              "x86_64-linux"
            ],
            "allow": {
              "licenses": []
            }
          },
          "services": {
            "ollama-ui": {
              "command": "# wait for ollama to be ready\nuntil ollama list; do sleep 1; done\n\nnextjs-ollama-llm-ui\n"
            }
          }
        },
        "name": "ollama",
        "descriptor": {
          "remote": "barstoolbluz/ollama"
        }
      }
    ],
    "warnings": [
      {
        "warning": {
          "Overriding": [
            "options",
            "systems"
          ]
        },
        "higher_priority_name": "Current manifest"
      }
    ]
  }
}
